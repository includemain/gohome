"use strict";(self.webpackChunksub_know_seat=self.webpackChunksub_know_seat||[]).push([[733],{16449:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var a=n(17925),l=n.n(a),i=n(48493),r=n(81945),o=n(62365),c=n(14748),d=n(978),u=n(73287),s=n(57065),f=n.n(s),v=n(50107),m="WckY",h=[{dataIndex:"confirmDate",title:"开户确认时间"},{dataIndex:"fundAccountId",title:"基金账号"},{dataIndex:"customerName",title:"客户姓名"},{dataIndex:"createUser",title:"操作人"},{dataIndex:"createTime",title:"操作时间"},{dataIndex:"status",title:"处理结果",filters:[{text:"成功",value:"succeeded"},{text:"失败",value:"failed"}],filterMultiple:!1,render:function(e,t){return(0,v.jsx)("div",{className:"失败"==e?"red-color":"green-color",_nk:"".concat(m,"11"),children:"失败"==e?"失败":"成功"})}},{dataIndex:"remark",title:"备注"}],p=[{dataIndex:"type",title:"分类",filters:[{text:"订制",value:"subscribe"},{text:"退订",value:"unsubscribe"}],sorter:!1,filterMultiple:!1,render:function(e,t){return(0,v.jsx)("div",{_nk:"".concat(m,"12"),children:"subscribe"==e?"订制":"退订"})}},{dataIndex:"billType",title:"账单类型",sorter:!1,filters:[{text:"短信账单",value:"smsBill"},{text:"邮件账单",value:"mailBill"}],filterMultiple:!1,render:function(e,t){return(0,v.jsx)("div",{_nk:"".concat(m,"13"),children:"mailBill"==e?"邮件账单":"短信账单"})}},{dataIndex:"fundAccountId",title:"基金账号"},{dataIndex:"createTime",title:"订制时间",sorter:!1,render:function(e){return f()(e).format("YYYY-MM-DD HH:mm:ss")}},{dataIndex:"createUser",title:"订制人"},{dataIndex:"deleteTime",title:"退订时间",sorter:!1,render:function(e){return e?f()(e).format("YYYY-MM-DD HH:mm:ss"):"-"}},{dataIndex:"deleteUser",title:"退订人"}],Y=n(86114),x=n(55375),D="history___FtZ4f",b="5j9W",g=function(){var e,t=(0,d.useState)({}),n=l()(t,2),a=n[0],s=n[1],m=(0,d.useState)({}),g=l()(m,2),k=g[0],I=g[1],M=(0,d.useState)(1),_=l()(M,2),j=(_[0],_[1]),y=(0,d.useState)({page:0,pageSize:10}),T=l()(y,2),Z=(T[0],T[1],(0,d.useState)(!1)),S=l()(Z,2),C=S[0],A=S[1],q=(0,d.useRef)(),w=(0,d.useRef)(),R=i.Z.RangePicker,z=((0,d.useRef)({1:{},2:{}}),void 0===x.o.yx?"calc(100vh - 110px)":"100vh"),F=((null===(e=document)||void 0===e||null===(e=e.querySelector(".tab-container"))||void 0===e?void 0:e.offsetHeight)||500)-230;return(0,v.jsx)("div",{className:D,style:{height:z},_nk:"".concat(b,"11"),children:(0,v.jsx)("div",{className:"tab-container",_nk:"".concat(b,"12"),children:(0,v.jsxs)(r.Z,{defaultActiveKey:"2",onChange:function(e){j(e)},style:{"--antd-tabs-ink-bar-color":"red",height:"100%"},_nk:"".concat(b,"21"),children:[(0,v.jsx)(r.Z.TabPane,{tab:"账单订制查询",_nk:"".concat(b,"31"),children:(0,v.jsx)(u.Z,{ref:w,columns:p,total:(null==k?void 0:k.total)||0,dataSource:(null==k?void 0:k.list)||[],getData:function(e){var t,n,a,l,i,r,o,c;(0,Y.Xc)({startCreateDate:null!==(t=e.createDate)&&void 0!==t&&t[0]?f()(null===(n=e.createDate)||void 0===n?void 0:n[0]).format("YYYY-MM-DD"):void 0,endCreateDate:null!==(a=e.createDate)&&void 0!==a&&a[1]?f()(null===(l=e.createDate)||void 0===l?void 0:l[1]).format("YYYY-MM-DD"):void 0,startDeleteDate:null!==(i=e.deleteDate)&&void 0!==i&&i[0]?f()(null===(r=e.deleteDate)||void 0===r?void 0:r[0]).format("YYYY-MM-DD"):void 0,endDeleteDate:null!==(o=e.deleteDate)&&void 0!==o&&o[1]?f()(null===(c=e.deleteDate)||void 0===c?void 0:c[1]).format("YYYY-MM-DD"):void 0,type:e.type,billType:e.billType,fundAccountId:e.fundAccountId,page:e.page,pageSize:e.pageSize}).then((function(e){var t,n,a=(null==e||null===(t=e.data)||void 0===t?void 0:t.list)||[],l=(null==e||null===(n=e.data)||void 0===n?void 0:n.count)||0;I({list:a,total:l}),A(!1)})).catch((function(e){A(!1)}))},loading:C,isFirstRun:!0,scroll:{y:F},paginationMap:{current:"page"},formChildren:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.Z.Item,{label:"订制时间",name:"createDate",_nk:"".concat(b,"32"),children:(0,v.jsx)(R,{format:"YYYY-MM-DD",placeholder:["开始时间","结束时间"],_nk:"".concat(b,"51")})}),(0,v.jsx)(o.Z.Item,{label:"退订时间",name:"deleteDate",_nk:"".concat(b,"33"),children:(0,v.jsx)(R,{format:"YYYY-MM-DD",placeholder:["开始时间","结束时间"],_nk:"".concat(b,"52")})}),(0,v.jsx)(o.Z.Item,{label:"基金账号",name:"fundAccountId",_nk:"".concat(b,"34"),children:(0,v.jsx)(c.Z,{placeholder:"请输入",style:{minWidth:200,width:240,height:36},autoComplete:"off",_nk:"".concat(b,"61")})})]}),_nk:"".concat(b,"41")})},"2"),(0,v.jsx)(r.Z.TabPane,{tab:"批量注册查询",_nk:"".concat(b,"35"),children:(0,v.jsx)(u.Z,{ref:q,columns:h,total:(null==a?void 0:a.total)||0,dataSource:(null==a?void 0:a.list)||[],getData:function(e){var t,n,a,l;(0,Y.TV)({startConfirmDate:null!==(t=e.ranTime)&&void 0!==t&&t[0]?f()(null===(n=e.ranTime)||void 0===n?void 0:n[0]).format("YYYY-MM-DD"):"",endConfirmDate:null!==(a=e.ranTime)&&void 0!==a&&a[1]?f()(null===(l=e.ranTime)||void 0===l?void 0:l[1]).format("YYYY-MM-DD"):"",fundAccountId:e.fundAccountId,status:e.status?e.status:"",page:e.page,pageSize:e.pageSize}).then((function(e){var t,n,a=(null==e||null===(t=e.data)||void 0===t?void 0:t.list)||[],l=(null==e||null===(n=e.data)||void 0===n?void 0:n.count)||0;s({list:a,total:l}),A(!1)})).catch((function(e){A(!1)}))},loading:C,isFirstRun:!0,paginationMap:{current:"page"},scroll:{y:F},formChildren:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.Z.Item,{label:"开户确认时间",name:"ranTime",_nk:"".concat(b,"36"),children:(0,v.jsx)(R,{format:"YYYY-MM-DD",placeholder:["开始时间","结束时间"],_nk:"".concat(b,"53")})}),(0,v.jsx)(o.Z.Item,{label:"基金账号",name:"fundAccountId",_nk:"".concat(b,"37"),children:(0,v.jsx)(c.Z,{placeholder:"请输入",style:{minWidth:200,width:240,height:36},autoComplete:"off",_nk:"".concat(b,"62")})})]}),_nk:"".concat(b,"42")})},"1")]})})})}},86114:function(e,t,n){n.d(t,{TV:function(){return d},Xc:function(){return u},aq:function(){return r},bd:function(){return o},es:function(){return c}});var a=n(35118),l=n.n(a),i=n(92938);function r(e){return(0,i.request)("/rest/csibs/advice/list",{method:"post",data:e})}function o(){return(0,i.request)("/rest/csibs/advice/categories",{method:"post"})}function c(e){return(0,i.request)("/rest/csibs/advice/operate",{method:"post",data:e})}function d(e){return(0,i.request)("/rest/csibs/account/batch-registered",{method:"post",data:l()(l()({},e),{},{page:e.page-1})})}function u(e){return(0,i.request)("/rest/csibs/bill/subscription-list",{method:"post",data:l()(l()({},e),{},{page:e.page-1})})}}}]);