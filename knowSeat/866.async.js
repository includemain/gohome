"use strict";(self.webpackChunksub_know_seat=self.webpackChunksub_know_seat||[]).push([[866],{21866:function(e,t,n){n.r(t),n.d(t,{default:function(){return ae}});var a=n(4044),r=n.n(a),i=n(35118),o=n.n(i),l=n(17925),c=n.n(l),d=(n(63669),n(23279),n(87017),n(16769),n(37762),n(54233),n(80348),n(25506),n(29964),n(8532),n(69357),n(48493)),s=n(62365),u=n(6889),f=n(22944),m=n(978),h=n(49630),p=n(90681),g=n(84534),v=(n(48239),n(60047)),x=n(2344),I=n(60030),C=n(73287),k=n(92938),b=n(86013),N=n(90577),_=n.n(N),w=n(81884),y=(n(68046),n(65246),n(60286)),S=n(36046),D=n(58646),j=n(16667),E=n.n(j),Y=n(72019),M=n(43016),R=n(88155),Z=n(93270);function A(e){return Z.Y.includes(e)}var F=function(e){var t,n=e.className,a=e.prefixCls,r=e.style,i=e.color,o=e.children,l=e.text,c=e.placement,d=void 0===c?"end":c,s=m.useContext(M.E_),u=s.getPrefixCls,f=s.direction,h=u("ribbon",a),p=A(i),g=E()(h,"".concat(h,"-placement-").concat(d),(t={},(0,y.Z)(t,"".concat(h,"-rtl"),"rtl"===f),(0,y.Z)(t,"".concat(h,"-color-").concat(i),p),t),n),v={},x={};return i&&!p&&(v.background=i,x.color=i),m.createElement("div",{className:"".concat(h,"-wrapper")},o,m.createElement("div",{className:g,style:(0,D.Z)((0,D.Z)({},v),r)},m.createElement("span",{className:"".concat(h,"-text")},l),m.createElement("div",{className:"".concat(h,"-corner"),style:x})))},T=(n(46194),n(72451),n(38433),n(55332));function O(e){var t,n=e.prefixCls,a=e.value,r=e.current,i=e.offset,o=void 0===i?0:i;return o&&(t={position:"absolute",top:"".concat(o,"00%"),left:0}),m.createElement("span",{style:t,className:E()("".concat(n,"-only-unit"),{current:r})},a)}function z(e,t,n){for(var a=e,r=0;(a+10)%10!==t;)a+=n,r+=n;return r}function P(e){var t,n,a=e.prefixCls,r=e.count,i=e.value,o=Number(i),l=Math.abs(r),c=m.useState(o),d=(0,T.Z)(c,2),s=d[0],u=d[1],f=m.useState(l),h=(0,T.Z)(f,2),p=h[0],g=h[1],v=function(){u(o),g(l)};if(m.useEffect((function(){var e=setTimeout((function(){v()}),1e3);return function(){clearTimeout(e)}}),[o]),s===o||Number.isNaN(o)||Number.isNaN(s))t=[m.createElement(O,(0,D.Z)({},e,{key:o,current:!0}))],n={transition:"none"};else{t=[];for(var x=o+10,I=[],C=o;C<=x;C+=1)I.push(C);var k=I.findIndex((function(e){return e%10===s}));t=I.map((function(t,n){var a=t%10;return m.createElement(O,(0,D.Z)({},e,{key:t,value:a,offset:n-k,current:n===k}))})),n={transform:"translateY(".concat(-z(s,o,p<l?1:-1),"00%)")}}return m.createElement("span",{className:"".concat(a,"-only"),style:n,onTransitionEnd:v},t)}var L=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},H=function(e){var t=e.prefixCls,n=e.count,a=e.className,r=e.motionClassName,i=e.style,o=e.title,l=e.show,c=e.component,d=void 0===c?"sup":c,s=e.children,u=L(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),f=(0,m.useContext(M.E_).getPrefixCls)("scroll-number",t),h=(0,D.Z)((0,D.Z)({},u),{"data-show":l,style:i,className:E()(f,a,r),title:o}),p=n;if(n&&Number(n)%1==0){var g=String(n).split("");p=g.map((function(e,t){return m.createElement(P,{prefixCls:f,count:Number(n),value:e,key:g.length-t})}))}return i&&i.borderColor&&(h.style=(0,D.Z)((0,D.Z)({},i),{boxShadow:"0 0 0 1px ".concat(i.borderColor," inset")})),s?(0,R.Tm)(s,(function(e){return{className:E()("".concat(f,"-custom-component"),null==e?void 0:e.className,r)}})):m.createElement(d,h,p)},G=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},q=function(e){var t,n,a=e.prefixCls,r=e.scrollNumberPrefixCls,i=e.children,o=e.status,l=e.text,c=e.color,d=e.count,s=void 0===d?null:d,u=e.overflowCount,f=void 0===u?99:u,h=e.dot,p=void 0!==h&&h,g=e.size,v=void 0===g?"default":g,x=e.title,I=e.offset,C=e.style,k=e.className,b=e.showZero,N=void 0!==b&&b,_=G(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),w=m.useContext(M.E_),j=w.getPrefixCls,Z=w.direction,F=j("badge",a),T=s>f?"".concat(f,"+"):s,O="0"===T||0===T,z=(null!=o||null!=c)&&(null===s||O&&!N),P=p&&!O,L=P?"":T,q=(0,m.useMemo)((function(){return(null==L||""===L||O&&!N)&&!P}),[L,O,N,P]),V=(0,m.useRef)(s);q||(V.current=s);var B=V.current,U=(0,m.useRef)(L);q||(U.current=L);var K=U.current,J=(0,m.useRef)(P);q||(J.current=P);var Q=(0,m.useMemo)((function(){if(!I)return(0,D.Z)({},C);var e={marginTop:I[1]};return"rtl"===Z?e.left=parseInt(I[0],10):e.right=-parseInt(I[0],10),(0,D.Z)((0,D.Z)({},e),C)}),[Z,I,C]),$=null!=x?x:"string"==typeof B||"number"==typeof B?B:void 0,W=q||!l?null:m.createElement("span",{className:"".concat(F,"-status-text")},l),X=B&&"object"===(0,S.Z)(B)?(0,R.Tm)(B,(function(e){return{style:(0,D.Z)((0,D.Z)({},Q),e.style)}})):void 0,ee=E()((t={},(0,y.Z)(t,"".concat(F,"-status-dot"),z),(0,y.Z)(t,"".concat(F,"-status-").concat(o),!!o),(0,y.Z)(t,"".concat(F,"-status-").concat(c),A(c)),t)),te={};c&&!A(c)&&(te.background=c);var ne=E()(F,(n={},(0,y.Z)(n,"".concat(F,"-status"),z),(0,y.Z)(n,"".concat(F,"-not-a-wrapper"),!i),(0,y.Z)(n,"".concat(F,"-rtl"),"rtl"===Z),n),k);if(!i&&z){var ae=Q.color;return m.createElement("span",(0,D.Z)({},_,{className:ne,style:Q}),m.createElement("span",{className:ee,style:te}),l&&m.createElement("span",{style:{color:ae},className:"".concat(F,"-status-text")},l))}return m.createElement("span",(0,D.Z)({},_,{className:ne}),i,m.createElement(Y.ZP,{visible:!q,motionName:"".concat(F,"-zoom"),motionAppear:!1,motionDeadline:1e3},(function(e){var t,n=e.className,a=j("scroll-number",r),i=J.current,l=E()((t={},(0,y.Z)(t,"".concat(F,"-dot"),i),(0,y.Z)(t,"".concat(F,"-count"),!i),(0,y.Z)(t,"".concat(F,"-count-sm"),"small"===v),(0,y.Z)(t,"".concat(F,"-multiple-words"),!i&&K&&K.toString().length>1),(0,y.Z)(t,"".concat(F,"-status-").concat(o),!!o),(0,y.Z)(t,"".concat(F,"-status-").concat(c),A(c)),t)),d=(0,D.Z)({},Q);return c&&!A(c)&&((d=d||{}).background=c),m.createElement(H,{prefixCls:a,show:!q,motionClassName:n,className:l,count:K,title:$,style:d,key:"scrollNumber"},X)})),W)};q.Ribbon=F;var V=q,B=n(50107),U="XQRk",K=(n(88975),function(){var e=(0,m.useContext)(I.CustomContext),t=e.userInfo,n=(e.setUserInfo,t.customerId,t.labels,t.callNumber,(0,k.useRequest)(b.aQ).data);return(0,B.jsx)("div",{style:{backgroundColor:"#fff",borderRadius:"0 8px 0px 0px"},_nk:"".concat(U,"11"),children:(0,B.jsx)(w.Z,{size:12,wrap:!0,className:"trade-tag-container",_nk:"".concat(U,"21"),children:null==n?void 0:n.map((function(e){var t="t-normal";return e.ready||(t="t-error"),(0,B.jsx)("div",{className:"trade-tag-item "+t,_nk:"".concat(U,"12"),children:(0,B.jsx)(V,{color:"t-error"===t?"#F5222D":"blue",text:e.taName,_nk:"".concat(U,"31")})},e.taName)}))})})}),J=n(84161),Q=(d.Z.RangePicker,"5ROE"),$=function(e){var t,n=(0,m.useContext)(I.CustomContext),a=n.userInfo,r=(n.fundAccId,a.customerId),i=(a.customerName,a.email,a.mobile,(0,m.useState)([])),l=c()(i,2),d=l[0],p=l[1],g=(0,m.useState)([]),N=c()(g,2),w=N[0],y=N[1],S=(0,m.useState)([]),D=c()(S,2),j=D[0],E=D[1],Y=(0,m.useState)([]),M=c()(Y,2),R=M[0],Z=M[1],A=(0,m.useState)(""),F=c()(A,2),T=F[0],O=F[1],z=(0,m.useState)(""),P=c()(z,2),L=P[0],H=P[1],G=(0,m.useState)([]),q=c()(G,2),V=(q[0],q[1],(0,m.useState)([])),U=c()(V,2),$=(U[0],U[1],(0,m.useState)([])),W=c()($,2),X=W[0],ee=W[1],te=(0,m.useState)([]),ne=c()(te,2),ae=ne[0],re=ne[1],ie=(0,m.useState)(!1),oe=c()(ie,2),le=oe[0],ce=oe[1],de=(0,m.useState)([]),se=c()(de,2),ue=(se[0],se[1],(0,m.useState)([])),fe=c()(ue,2),me=fe[0],he=fe[1],pe=(0,m.useState)([]),ge=c()(pe,2),ve=ge[0],xe=ge[1],Ie=(0,m.useState)(0),Ce=c()(Ie,2),ke=(Ce[0],Ce[1],(0,m.useState)(0)),be=c()(ke,2),Ne=(be[0],be[1],(0,m.useState)(!1)),_e=c()(Ne,2),we=_e[0],ye=_e[1],Se=(0,m.useState)(!1),De=c()(Se,2),je=De[0],Ee=De[1],Ye=(0,m.useState)([]),Me=c()(Ye,2),Re=Me[0],Ze=Me[1],Ae=(0,m.useState)({}),Fe=c()(Ae,2),Te=Fe[0],Oe=Fe[1],ze=(0,m.useState)([]),Pe=c()(ze,2),Le=Pe[0],He=Pe[1],Ge=[{dataIndex:"fundName",width:150,title:"基金名称",sorter:!0,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{className:1==t.hasRisk?"redColor":"",_nk:"".concat(Q,"11"),children:[" ",e||"--"]})}},{dataIndex:"navDate",width:150,title:"净值所属日期",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{_nk:"".concat(Q,"12"),children:[" ",e?_()(e).format("YYYY-MM-DD")||"--":"-"]})}},{dataIndex:"holdShares",width:150,title:"持有份额（份）",sorter:!0,filter:!1},{dataIndex:"frozenShares",width:150,title:"冻结份额（份）",sorter:!1,filter:!1},{dataIndex:"midwayVolume",width:150,title:"待解转份额（份）",sorter:!1,filter:!1},{dataIndex:"dividendMethod",width:150,title:"分红方式",sorter:!1,filter:!1},{dataIndex:"nav",width:150,title:"基金净值",sorter:!0,filter:!1},{dataIndex:"balance",width:150,title:"最新现值（元）",sorter:!0,filter:!1},{dataIndex:"percentage",width:150,title:"占比",sorter:!0,filter:!1}],qe=function(e){return e.redRoll="redRoll",e.redHold="redHold",e}({}),Ve=(0,m.useRef)(),Be=(0,m.useState)(),Ue=c()(Be,2),Ke=Ue[0],Je=Ue[1],Qe=(0,k.useRequest)(b.D,{manual:!0}),$e=Qe.loading,We=Qe.run,Xe=Qe.data,et=(0,k.useRequest)(b.or,{manual:!0}),tt=et.loading,nt=et.run,at=et.data,rt=[{dataIndex:"fundName",width:150,title:"基金名称",sorter:!1,filters:ve,filterSearch:function(e,t){return kt(e,t)},filterMultiple:!1},{dataIndex:"confirmId",width:150,title:"确认流水号",sorter:!0,filter:!1},{dataIndex:"confirmDate",width:150,title:"交易确认日期",sorter:!0,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{_nk:"".concat(Q,"13"),children:[" ",e?_()(e).format("YYYY-MM-DD")||"--":"-"]})}},{dataIndex:"redeemDate",width:150,title:"可赎回日期",sorter:!0,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{_nk:"".concat(Q,"14"),children:[" ",e?_()(e).format("YYYY-MM-DD")||"--":"-"]})}},{dataIndex:"nextRedeemDate",width:150,title:(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(v.Z,{title:"此日期为初步计算，请客户提前关注和查询实际可赎回日",_nk:"".concat(Q,"21"),children:[(0,B.jsx)("span",{_nk:"".concat(Q,"31"),children:"下次可赎回日期"}),(0,B.jsx)(J.Z,{style:{marginLeft:4},_nk:"".concat(Q,"41")})]})}),sorter:!1,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{_nk:"".concat(Q,"15"),children:[" ",e?_()(e).format("YYYY-MM-DD")||"--":"-"]})},filterIcon:function(){return(0,B.jsx)(SearchOutlined,{_nk:"".concat(Q,"51")})}},{dataIndex:"holdShares",width:150,title:"持有基金份额（份）",sorter:!1,filter:!1},{dataIndex:"frozenShares",width:150,title:"冻结份额（份）",sorter:!1,filter:!1},{dataIndex:"midwayVolume",width:150,title:"未交割份额（份）",sorter:!1,filter:!1},{dataIndex:"balance",width:150,title:"最新现值（元）",sorter:!1,filter:!1},{dataIndex:"agencyName",width:150,title:"交易机构",sorter:!1,filter:!1},{dataIndex:"market",width:150,title:"交易市场",sorter:!1,filter:!1},{dataIndex:"opeate",width:150,title:"操作",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{className:"operater-detail",onClick:function(){return dt(t)},_nk:"".concat(Q,"16"),children:" 查询历史"})}}],it=[{dataIndex:"fundName",width:150,title:"基金名称",sorter:!1,filters:me,filterSearch:function(e,t){return kt(e,t)},filterMultiple:!1},{dataIndex:"confirmId",width:150,title:"确认流水号",sorter:!0,filter:!1},{dataIndex:"confirmDate",width:150,title:"交易确认日期",sorter:!0,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{_nk:"".concat(Q,"17"),children:[" ",e?_()(e).format("YYYY-MM-DD")||"--":"-"]})}},{dataIndex:"redeemDate",width:150,title:"可赎回日期",sorter:!0,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{_nk:"".concat(Q,"18"),children:[" ",e?_()(e).format("YYYY-MM-DD")||"--":"-"]})}},{dataIndex:"holdShares",width:150,title:"持有基金份额（份）",sorter:!1,filter:!1},{dataIndex:"frozenShares",width:150,title:"冻结份额（份）",sorter:!1,filter:!1},{dataIndex:"midwayVolume",width:150,title:"未交割份额（份）",sorter:!1,filter:!1},{dataIndex:"balance",width:150,title:"最新现值（元）",sorter:!1,filter:!1},{dataIndex:"agencyName",width:150,title:"交易机构",sorter:!1,filter:!1},{dataIndex:"market",width:150,title:"交易市场",sorter:!1,filter:!1}],ot=new Map([[qe.redRoll,{columns:rt,loading:$e,dataSource:(null==Xe?void 0:Xe.list)||[],total:(null==Xe?void 0:Xe.count)||0}],[qe.redHold,{columns:it,loading:tt,dataSource:(null==at?void 0:at.list)||[],total:(null==at?void 0:at.count)||0}]]);(0,m.useEffect)((function(){if(le)switch(Ke){case qe.redRoll:We({page:1,pageSize:10,customerId:r||""});break;case qe.redHold:nt({page:1,pageSize:10,customerId:r||""})}}),[Ke,le]);var lt=(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(s.Z.Item,{label:"养老目标基金",name:"pensionFundType",_nk:"".concat(Q,"61"),children:(0,B.jsx)(x.Z,{options:[{value:"AC",label:"普通养老目标基金（包含AC类）"},{value:"Y",label:"个人养老金基金（仅包含Y类）"},{value:"AC,Y",label:"养老目标基金（包含ACY类）"}],placeholder:"请选择",_nk:"".concat(Q,"71")})}),(0,B.jsx)(s.Z.Item,{label:"活期通账户筛选",name:"hqtFundCode",_nk:"".concat(Q,"62"),children:(0,B.jsx)(x.Z,{options:[{value:"NO-HQT",label:"不包含活期通账户"},{value:"HQT",label:"全部活期通账户"}],placeholder:"请选择",_nk:"".concat(Q,"72")})})]}),ct=(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(u.Z,{type:"primary",onClick:function(){return mt()},_nk:"".concat(Q,"81"),children:"理财可赎回日"})}),dt=function(e){Ze(e.historyRedeemDate),ye(!0)},st=function(e){var t={page:e.page||1,pageSize:e.pageSize||10,customerId:r||"",fundCode:e.fundName||""};null!=e&&e.confirmDate?(t.sorting={},t.sorting.field="confirmDate",t.sorting.order="".concat(e.confirmDate,"ing")):null!=e&&e.confirmId?(t.sorting={},t.sorting.field="confirmId",t.sorting.order="".concat(e.confirmId,"ing")):null!=e&&e.redeemDate&&(t.sorting={},t.sorting.field="redeemDate",t.sorting.order="".concat(e.redeemDate,"ing")),Oe(t),"redRoll"==Ke?We(o()(o()({},t),{},{customerId:r||""})).then((function(e){})):nt(o()(o()({},t),{},{customerId:r||""})).then((function(e){}))},ut=function(e){if(e.superFund){Ee(!0);var t={fundAccountId:e.fundAccountId||"",tradeAccountId:e.tradeAccountId||""};H(e.tradeAccountId),O(e.fundAccountId),(0,b.mJ)(o()({},t)).then((function(e){He(null==e?void 0:e.data)}))}},ft=[{dataIndex:"fundName",width:150,title:"基金名称",sorter:!1,filters:d,filterSearch:function(e,t){return kt(e,t)},filterMultiple:!1,render:function(e,t){return(0,B.jsxs)("div",{className:1==t.hasRisk?"redColor":"",style:{cursor:t.superFund?"pointer":"initial"},onClick:function(){return ut(t)},_nk:"".concat(Q,"19"),children:[" ",e||"--"]})}},{dataIndex:"netValueDate",width:120,title:"净值所属日期",filter:!1,render:function(e,t){return(0,B.jsxs)("div",{onClick:function(){return ut(t)},style:{cursor:t.superFund?"pointer":"initial"},_nk:"".concat(Q,"1a"),children:[" ",e?_()(e).format("YYYY-MM-DD")||"--":"-"]})}},{dataIndex:"holdShares",width:120,title:"持有份额（份）",sorter:!0,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{onClick:function(){return ut(t)},style:{cursor:t.superFund?"pointer":"initial"},_nk:"".concat(Q,"1b"),children:[" ",e||"--"]})}},{dataIndex:"frozenShares",width:120,title:"冻结份额（份）",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{onClick:function(){return ut(t)},style:{cursor:t.superFund?"pointer":"initial"},_nk:"".concat(Q,"1c"),children:[" ",e||"--"]})}},{dataIndex:"midwayVolume",width:120,title:"待结转份额（份）",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{onClick:function(){return ut(t)},style:{cursor:t.superFund?"pointer":"initial"},_nk:"".concat(Q,"1d"),children:[" ",e||"--"]})}},{dataIndex:"dividendMethod",width:100,title:"分红方式",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{onClick:function(){return ut(t)},style:{cursor:t.superFund?"pointer":"initial"},_nk:"".concat(Q,"1e"),children:[" ",e||"--"]})}},{dataIndex:"netValue",width:100,title:"基金净值",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{onClick:function(){return ut(t)},style:{cursor:t.superFund?"pointer":"initial"},_nk:"".concat(Q,"1f"),children:[" ",e||"--"]})}},{dataIndex:"agencyName",width:120,title:"交易机构",sorter:!1,filters:w,filterMultiple:!1,render:function(e,t){return(0,B.jsxs)("div",{onClick:function(){return ut(t)},style:{cursor:t.superFund?"pointer":"initial"},_nk:"".concat(Q,"1g"),children:[" ",e||"--"]})}},{dataIndex:"balance",width:150,title:"最新现值（元）",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{onClick:function(){return ut(t)},style:{cursor:t.superFund?"pointer":"initial"},_nk:"".concat(Q,"1h"),children:[" ",e||"--"]})}},{dataIndex:"channelId",width:150,title:"所属渠道",sorter:!1,filters:R,filterMultiple:!1,render:function(e,t){return(0,B.jsxs)("div",{onClick:function(){return ut(t)},style:{cursor:t.superFund?"pointer":"initial"},_nk:"".concat(Q,"1i"),children:[" ",e||"--"]})}},{dataIndex:"fundAccountId",width:150,title:"托管账户",sorter:!1,filters:j,filterMultiple:!1,render:function(e,t){return(0,B.jsxs)("div",{onClick:function(){return ut(t)},style:{cursor:t.superFund?"pointer":"initial"},_nk:"".concat(Q,"1j"),children:[" ",e||"--"]})}}],mt=function(){ce(!0),st({customerId:r||"",page:1,pageSize:10}),Je(qe.redRoll),ht(),pt()},ht=function(){(0,b.Zq)({customerId:r||""}).then((function(e){var t=[];null==e||e.data.forEach((function(e){var n={value:e.fundCode,text:e.fundName};t.push(n)})),he(t)}))},pt=function(){(0,b.Gp)({customerId:r||""}).then((function(e){var t=[];null==e||e.data.forEach((function(e){var n={value:e.fundCode,text:e.fundName};t.push(n)})),xe(t)}))};(0,m.useEffect)((function(){vt(),It(),Ct(),xt(),gt()}),[r]);var gt=function(){(0,b.OL)({customerId:r||""}).then((function(e){var t,n;ee((null==e||null===(t=e.data)||void 0===t?void 0:t.rmbSum)||"0.00"),re((null==e||null===(n=e.data)||void 0===n?void 0:n.dollarSum)||"0.00")}))},vt=function(){(0,b.bd)({customerId:r||""}).then((function(e){var t,n=[];null==e||null===(t=e.data)||void 0===t||t.forEach((function(e){var t={value:e.fundCode,text:e.fundName};n.push(t)})),p(n)}))},xt=function(){(0,b.iT)({customerId:r||""}).then((function(e){var t,n=[];null==e||null===(t=e.data)||void 0===t||t.forEach((function(e){var t={value:e.agencyCode,text:e.agencyName};n.push(t)})),y(n)}))},It=function(){(0,b.LL)({customerId:r||""}).then((function(e){var t,n=[];null==e||null===(t=e.data)||void 0===t||t.forEach((function(e){var t={value:e,text:e};n.push(t)})),E(n)}))},Ct=function(){(0,b.pq)({customerId:r||""}).then((function(e){var t=[];null==e||e.data.forEach((function(e){var n={value:e.paymentChannelId,text:e.name};t.push(n)})),Z(t)}))},kt=function(e,t){var n=[],a=[];return null==t||t.map((function(e){var t={};t.text=e.title,t.value=e.key,n.push(t)})),0==e.length?n:(null==n||n.map((function(t){(t.value.includes(e)||t.text.includes(e))&&a.push(t)})),a)},bt=(0,k.useRequest)((function(e){return(0,b.ku)(e)}),{manual:!0}),Nt=bt.loading,_t=bt.run,wt=bt.data;(0,m.useEffect)((function(){yt({page:1,pageSize:10})}),[r]);var yt=function(e){var t={page:e.page||1,pageSize:e.pageSize||10,customerId:r||"",fundCode:"",agencyCode:"",pensionFundType:e.pensionFundType||"",fundAccountId:e.fundAccountId||"",hqtFundCode:e.hqtFundCode||"",channelId:e.channelId||""};t.fundCode=e.fundName||"",t.agencyCode=e.agencyName||"",null!=e&&e.holdShares&&(t.sorting={},t.sorting.field="holdShares",t.sorting.order="".concat(e.holdShares,"ing")),_t(o()({},t))},St=(null===(t=Ve.current)||void 0===t?void 0:t.offsetHeight)||360;return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)("div",{className:"common-tabbody-style has-trade-tabbody-style",style:{height:"100%",minHeight:430},ref:Ve,_nk:"".concat(Q,"1k"),children:[(0,B.jsx)(K,{_nk:"".concat(Q,"91")}),(0,B.jsx)("div",{className:"tradeinfo_buttom",_nk:"".concat(Q,"1l"),children:(0,B.jsx)(C.Z,{dataSource:(null==wt?void 0:wt.list)||(null==wt?void 0:wt.shareInfos)||[],columns:ft||[],loading:Nt,getData:yt,isFirstRun:!1,total:(null==wt?void 0:wt.total)||(null==wt?void 0:wt.count)||0,formChildren:lt,extra:ct,paginationMap:{current:"page"},scroll:{x:"100%",y:St-293},className:"table-footer",footer:function(){return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)("div",{className:"table-summary",_nk:"".concat(Q,"1m"),children:[(0,B.jsxs)("span",{className:"table-summary-num",_nk:"".concat(Q,"32"),children:["总计：￥",X]}),(0,B.jsxs)("span",{className:"table-summary-num",_nk:"".concat(Q,"33"),children:["总计：$",ae]}),(0,B.jsxs)("span",{className:"table-summary-num",_nk:"".concat(Q,"34"),children:["小计：￥",(null==wt?void 0:wt.rmbPageSum)||"0.00"]}),(0,B.jsxs)("span",{className:"table-summary-num",_nk:"".concat(Q,"35"),children:["小计：$",(null==wt?void 0:wt.dollarPageSum)||"0.00"]})]})})},_nk:"".concat(Q,"a1")})}),(0,B.jsx)(f.Z,{open:le,getContainer:!1,width:1422,height:634,footer:!1,onCancel:function(){ce(!1)},maskClosable:!0,className:"modal-table-detail",_nk:"".concat(Q,"b1"),children:(0,B.jsx)("div",{className:"common-tabtable-style account-modal-box",style:{paddingTop:20},_nk:"".concat(Q,"1n"),children:(0,B.jsx)(h.Z,{className:"modal-tab tab-new",tabList:[{tabName:"滚动型基金",tabCode:"redRoll"},{tabName:"持有型基金",tabCode:"redHold"}]||[],current:Ke,onClick:function(e){Je(e)},_nk:"".concat(Q,"c1"),children:(0,B.jsxs)("div",{style:{paddingTop:16},_nk:"".concat(Q,"1o"),children:[(0,B.jsx)(u.Z,{onClick:function(){return e={customerId:r||"",fundCode:(null==Te?void 0:Te.fundCode)||""},null!=Te&&Te.sorting&&(e.sorting=Te.sorting),void("redRoll"==Ke?(0,b.od)(o()({},e)).then((function(e){})):(0,b.oG)(o()({},e)).then((function(e){})));var e},type:"default",className:"button_export",_nk:"".concat(Q,"82"),children:"导出"}),(0,B.jsx)(C.Z,o()(o()({getData:st,style:{height:413}},ot.get(Ke)||{}),{},{isFirstRun:!1,paginationMap:{current:"page"},scroll:{x:"100%",y:383},loading:Nt,_nk:"".concat(Q,"a2")}),Ke)]})})})}),(0,B.jsx)(f.Z,{open:we,getContainer:!1,width:822,height:634,onCancel:function(){ye(!1)},maskClosable:!0,footer:!1,title:"查询历史",className:"modal-table-detail",_nk:"".concat(Q,"b2"),children:(0,B.jsx)(C.Z,{dataSource:Re,style:{height:473},columns:[{dataIndex:"fundName",width:150,title:"基金名称",sorter:!1,filter:!1},{dataIndex:"fundCode",width:150,title:"基金代码",sorter:!1,filter:!1},{dataIndex:"redeemDate",width:150,title:"可赎回日",sorter:!1,filter:!1}],isFirstRun:!1,paginationMap:{current:"page"},scroll:{x:"100%",y:443},loading:Nt,_nk:"".concat(Q,"a3")},Ke)}),(0,B.jsx)(f.Z,{open:je,getContainer:!1,width:1422,height:634,onCancel:function(){Ee(!1)},maskClosable:!0,title:"华夏货币增强组合-基金明细查询",footer:!1,className:"modal-table-detail",_nk:"".concat(Q,"b3"),children:(0,B.jsx)(C.Z,{dataSource:Le,getData:function(e){var t={fundAccountId:T||"",tradeAccountId:L||""};null!=e&&e.fundName?(t.sorting={},t.sorting.field="fundCode",t.sorting.order="".concat(e.fundName,"ing")):null!=e&&e.holdShares?(t.sorting={},t.sorting.field="holdShares",t.sorting.order="".concat(e.holdShares,"ing")):null!=e&&e.nav?(t.sorting={},t.sorting.field="nav",t.sorting.order="".concat(e.nav,"ing")):null!=e&&e.balance?(t.sorting={},t.sorting.field="balance",t.sorting.order="".concat(e.balance,"ing")):null!=e&&e.percentage&&(t.sorting={},t.sorting.field="balance",t.sorting.order="".concat(e.percentage,"ing")),(0,b.mJ)(o()({},t)).then((function(e){He(null==e?void 0:e.data)}))},columns:Ge,isFirstRun:!1,isShowPagination:!1,paginationMap:{current:"page"},scroll:{x:"100%",y:403},loading:Nt,_nk:"".concat(Q,"a4")},Ke)})]})})},W=n(57065),X=n.n(W),ee=(d.Z.RangePicker,"SGDH"),te=function(e){var t,n=(0,m.useContext)(I.CustomContext),a=n.userInfo,r=(n.fundAccId,a.customerId),i=(a.customerName,a.email,a.mobile,(0,m.useState)([])),l=c()(i,2),h=l[0],g=l[1],v=(0,m.useState)([]),N=c()(v,2),w=N[0],y=N[1],S=(0,m.useState)([]),D=c()(S,2),j=D[0],E=D[1],Y=(0,m.useState)([]),M=c()(Y,2),R=(M[0],M[1]),Z=(0,m.useState)([]),A=c()(Z,2),F=A[0],T=A[1],O=(0,m.useState)([]),z=c()(O,2),P=z[0],L=z[1],H=(0,m.useState)([]),G=c()(H,2),q=G[0],V=G[1],U=(0,m.useState)({}),J=c()(U,2),Q=J[0],$=J[1],W=(0,m.useState)(""),te=c()(W,2),ne=te[0],ae=te[1],re=(0,m.useState)(""),ie=c()(re,2),oe=ie[0],le=ie[1],ce=(0,m.useState)(!1),de=c()(ce,2),se=de[0],ue=de[1],fe=(0,m.useState)(!1),me=c()(fe,2),he=me[0],pe=me[1],ge=(0,m.useState)([]),ve=c()(ge,2),xe=ve[0],Ie=ve[1],Ce=(0,m.useState)([]),ke=c()(Ce,2),be=ke[0],Ne=ke[1],_e=(0,m.useState)(""),we=c()(_e,2),ye=we[0],Se=we[1],De=(0,m.useState)({}),je=c()(De,2),Ee=je[0],Ye=je[1],Me=(0,m.useState)(""),Re=c()(Me,2),Ze=Re[0],Ae=Re[1],Fe=(0,m.useState)(""),Te=c()(Fe,2),Oe=Te[0],ze=Te[1],Pe=(0,m.useState)(1),Le=c()(Pe,2),He=Le[0],Ge=Le[1],qe=(0,m.useRef)(1),Ve=(0,m.useRef)("-"),Be=(0,m.useRef)(),Ue=(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(s.Z.Item,{label:"涉及基金",name:"involvedFundCodes",_nk:"".concat(ee,"11"),children:(0,B.jsx)(x.Z,{mode:"multiple",showSearch:!0,filterOption:function(e,t){var n;return(null!==(n=null==t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},options:j,placeholder:"请选择",_nk:"".concat(ee,"21")})}),(0,B.jsx)(s.Z.Item,{label:"确认日期",name:"confirmDateInfo",_nk:"".concat(ee,"12"),children:(0,B.jsx)(d.Z.RangePicker,{placeholder:["开始日期","结束日期"],allowEmpty:[!0,!0],_nk:"".concat(ee,"13")})})]}),Ke=(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(u.Z,{type:"default",className:"search-btn",onClick:function(){return Qe()},_nk:"".concat(ee,"31"),children:"导出Excel"})}),Je=[{dataIndex:"applicationDate",width:150,title:"申请日期",sorter:!0,filter:!1,render:function(e,t){return e&&_()(e).format("YYYY-MM-DD")||"-"}},{dataIndex:"confirmDate",width:150,title:"确认日期",sorter:!0,filter:!1,render:function(e,t){return e&&_()(e).format("YYYY-MM-DD")||"-"}},{dataIndex:"businessName",width:150,title:"交易类型",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{dangerouslySetInnerHTML:{__html:e||"--"},_nk:"".concat(ee,"41")})}},{dataIndex:"fundName",width:150,title:"申请基金",sorter:!1,filter:!1},{dataIndex:"targetFundName",width:150,title:"转入基金",sorter:!1,filter:!1},{dataIndex:"applicationAmount",width:150,title:"申请金额/份额",sorter:!1,filter:!1},{dataIndex:"confirmAmount",width:150,title:"确认金额/份额",sorter:!1,filter:!1},{dataIndex:"redemptionFee",width:150,title:"赎回费（元）",sorter:!1,filter:!1},{dataIndex:"subscriptionFee",width:150,title:"申/转费（元）",sorter:!1,filter:!1},{dataIndex:"confirmFee",width:150,title:"成交份额/到账金额",sorter:!1,filter:!1},{dataIndex:"agencyName",width:150,title:"交易机构/所属渠道",sorter:!1,filter:!1},{dataIndex:"nav",width:150,title:"申购/赎回/转出净值",sorter:!1,filter:!1},{dataIndex:"targetNav",width:150,title:"转入净值",sorter:!1,filter:!1,render:function(){return(0,B.jsx)("div",{_nk:"".concat(ee,"42"),children:Ve.current})}},{dataIndex:"fundAccountId",width:150,title:"托管账户",sorter:!1,filter:!1}],Qe=function(){var e={customerId:r||"",fundCode:(null==Q?void 0:Q.fundCode)||"",targetFundCode:(null==Q?void 0:Q.targetFundCode)||"",involvedFundCodes:(null==Q?void 0:Q.involvedFundCodes)||[],agencyCode:(null==Q?void 0:Q.agencyCode)||"",fundAccountId:(null==Q?void 0:Q.fundAccountId)||"",businessCodes:(null==Q?void 0:Q.businessCodes)||[],confirmDateBegin:(null==Q?void 0:Q.confirmDateBegin)||0,confirmDateEnd:(null==Q?void 0:Q.confirmDateEnd)||0};null!=Q&&Q.sorting&&(e.sorting=Q.sorting),(0,b.$D)(o()({},e)).then((function(e){}))},$e=[{dataIndex:"applicationDate",width:110,title:"申请日期",filter:!1,sorter:!0,render:function(e,t){return(0,B.jsxs)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"43"),children:[" ",e&&_()(e).format("YYYY-MM-DD")||"-"]})}},{dataIndex:"confirmDate",width:110,title:"确认日期",filter:!1,sorter:!0,render:function(e,t){return(0,B.jsxs)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"44"),children:[" ",e&&_()(e).format("YYYY-MM-DD")||"-"]})}},{dataIndex:"businessName",width:130,title:"交易类型",filters:F,filterMultiple:!0,render:function(e,t){var n=p.CC[t.businessCode];return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:"black"==t.countRemarkColor?n?"red-detail":"":"blue"==t.countRemarkColor?"blueColor":"orangeColor",dangerouslySetInnerHTML:{__html:e||"--"},_nk:"".concat(ee,"45")})}},{dataIndex:"fundName",width:110,title:"申请基金",sorter:!1,filters:h,filterSearch:function(e,t){return tt(e,t)},filterMultiple:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"46"),children:e||"--"})}},{dataIndex:"targetFundName",width:150,title:"转入基金",sorter:!1,filters:w,filterSearch:function(e,t){return tt(e,t)},filterMultiple:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"47"),children:e||"--"})}},{dataIndex:"applicationAmount",width:80,title:"申请额",filter:!1,sorter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"48"),children:e||"--"})}},{dataIndex:"confirmApplicationAmount",width:100,title:"确认申请额",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"49"),children:e||"--"})}},{dataIndex:"redemptionFee",width:80,title:"卖出费",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"4a"),children:e||"--"})}},{dataIndex:"subscriptionFee",width:80,title:"买入费",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"4b"),children:e||"--"})}},{dataIndex:"confirmFee",width:80,title:"成交额",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"4c"),children:e||"--"})}},{dataIndex:"nav",width:100,title:"申请净值",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"4d"),children:e||"--"})}},{dataIndex:"targetNav",width:100,title:"转入净值",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"4e"),children:e||"--"})}},{dataIndex:"agencyName",width:130,title:"交易机构",sorter:!1,filters:P,filterMultiple:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"4f"),children:e||"--"})}},{dataIndex:"tradeStatus",width:80,title:"交易状态",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:!p.CC[t.businessCode]||"部分成功"!=e&&"失败"!=e?!p.CC[t.businessCode]||"部分成功"===e&&"失败"===e?p.CC[t.businessCode]||"部分成功"!=e&&"失败"!=e?"":"redColor":"red-detail":"red-detail-point",_nk:"".concat(ee,"4g"),children:e||"--"})}},{dataIndex:"targetAgencyName",width:130,title:"转托管转入机构",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"4h"),children:e||"--"})}},{dataIndex:"branchCode",width:90,title:"所属渠道",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"4i"),children:e||"--"})}},{dataIndex:"fundAccountId",width:130,title:"托管账户",sorter:!1,filters:q,filterMultiple:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"4j"),children:e||"--"})}},{dataIndex:"dividendMethod",width:130,title:"变更后分红方式",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"4k"),children:e||"--"})}},{dataIndex:"applicationId",width:150,title:"交易流水号",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"4l"),children:e||"--"})}},{dataIndex:"applicationRemark",width:120,title:"申请备注",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:function(){return Xe(t)},className:p.CC[t.businessCode]?"red-detail":"",_nk:"".concat(ee,"4m"),children:e||"--"})}}];(0,m.useEffect)((function(){et()}),[r]);var We=function(e){(0,b.XV)(o()({},e)).then((function(e){Ie(null==e?void 0:e.data)}))},Xe=function(e){switch(qe.current+=1,p.CC[e.businessCode]){case"1":ue(!0),Ge(e.targetFundCode+e.fundAccountId+e.applicationId+e.applicationVolume+qe.current);var t={fundCode:e.targetFundCode,fundAccountId:e.fundAccountId,applicationId:e.applicationId,applicationVolume:e.applicationVolume};Ye(t),Ve.current=e.targetNav,Ne(Je),Se("基金转换信息"),function(e){(0,b.WW)(o()({},e)).then((function(e){Ie(null==e?void 0:e.data)}))}(t);break;case"2":ue(!0),Ge(e.fundAccountId+e.applicationId+qe.current);var n={fundAccountId:e.fundAccountId,applicationId:e.applicationId};Ne(p.IB),Se("赎回信息"),We(n);break;case"3":ue(!0),Ne(p.nq),Se("转托管信息"),Ge(e.fundAccountId+e.applicationId+e.businessCode+qe.current),function(e){(0,b.ki)(o()({},e)).then((function(e){Ie(null==e?void 0:e.data)}))}({fundAccountId:e.fundAccountId,applicationId:e.applicationId,businessCode:e.businessCode});break;case"4":ue(!0),Ne(p.LU),Se("交易明细信息"),Ge(e.applicationId+qe.current),function(e){(0,b.bz)(o()({},e)).then((function(e){Ie(null==e?void 0:e.data),ut(null==e?void 0:e.data,2)}))}({applicationId:e.applicationId});break;case"5":ue(!0),Ne(p.EM),Se("交易明细信息"),Ge(e.applicationId+qe.current),function(e){(0,b.zt)(o()({},e)).then((function(e){var t;Ie(null==e?void 0:e.data),null==e||null===(t=e.data)||void 0===t||t.forEach((function(e,t){"失败"==e.tradeStatus?e.countRemarkColor="red":e.countRemarkColor="black"}))}))}({applicationId:e.applicationId});break;case"6":pe(!0),Ge(e.targetFundAccountId+e.fundAccountId+qe.current),"034"==e.businessCode?(Ae(e.targetFundAccountId),ze(e.fundAccountId)):(Ae(e.fundAccountId),ze(e.targetFundAccountId))}},et=function(){(0,b.D4)({customerId:r||""}).then((function(e){var t=[];null==e||e.data.forEach((function(e){var n={value:e.fundCode,text:e.fundName};t.push(n)})),g(t)})),(0,b.pO)({customerId:r||""}).then((function(e){var t=[];null==e||e.data.forEach((function(e){var n={value:e.fundCode,text:e.fundName};t.push(n)})),y(t)})),(0,b.id)({customerId:r||""}).then((function(e){var t=[];null==e||e.data.forEach((function(e){var n={value:e.fundCode,label:e.fundName};t.push(n)})),E(t),R(t)})),(0,b.ij)({customerId:r||""}).then((function(e){var t=[];null==e||e.data.forEach((function(e){var n={value:e.businessCode,text:(0,B.jsx)("div",{dangerouslySetInnerHTML:{__html:e.businessName},_nk:"".concat(ee,"4n")})};t.push(n)})),T(t)})),(0,b.p1)({customerId:r||""}).then((function(e){var t=[];null==e||e.data.forEach((function(e){var n={value:e.agencyCode,text:e.agencyName};t.push(n)})),L(t)})),(0,b.kh)({customerId:r||""}).then((function(e){var t=[];null==e||e.data.forEach((function(e){var n={value:e,text:e};t.push(n)})),V(t)}))},tt=function(e,t){var n=[],a=[];return null==t||t.map((function(e){var t={};t.text=e.title,t.value=e.key,n.push(t)})),0==e.length?n:(null==n||n.map((function(t){(t.value.includes(e)||t.text.includes(e))&&a.push(t)})),a)},nt=(0,k.useRequest)(b.l5,{manual:!0}),at=nt.loading,rt=nt.run,it=nt.data,ot=!1,lt=(0,m.useState)([]),ct=c()(lt,2),dt=ct[0],st=ct[1];(0,m.useEffect)((function(){rt({page:1,pageSize:10,customerId:r||""}).then((function(e){st(null==e?void 0:e.list),le(e.redemptionFeePageSum),ae(e.subscriptionFeePageSum),ut(null==e?void 0:e.list,1)}))}),[r]);var ut=function(e,t){var n=[];null==e||e.forEach((function(e){1==t?"ZT"!=e.remark&&e.count24>1&&"024"==e.businessCode?n.push(e):e.countRemarkColor="black":e.count24>1&&"024"==e.businessCode?n.push(e):e.countRemarkColor="black"})),n.length>0&&n.forEach((function(e,t){0==t?e.countRemarkColor=0==ot?"blue":"orange":n[t].applicationId!=n[t-1].applicationId?(ot=!ot,e.countRemarkColor=0==ot?"blue":"orange"):e.countRemarkColor=0==ot?"blue":"orange"}))},ft=(null===(t=Be.current)||void 0===t?void 0:t.offsetHeight)||360;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{className:"common-tabbody-style has-trade-tabbody-style",style:{height:"100%"},ref:Be,_nk:"".concat(ee,"4o"),children:[(0,B.jsx)(K,{_nk:"".concat(ee,"51")}),(0,B.jsx)("div",{className:"tradeinfo_buttom",_nk:"".concat(ee,"4p"),children:(0,B.jsx)(C.Z,{columns:$e||[],loading:at,getData:function(e){var t={page:e.page||1,pageSize:e.pageSize||10,customerId:r||"",fundCode:e.fundName||"",targetFundCode:e.targetFundName||"",involvedFundCodes:e.involvedFundCodes||[],agencyCode:e.agencyName||"",fundAccountId:e.fundAccountId||"",businessCodes:(null==e?void 0:e.businessName)||[],confirmDateBegin:e.confirmDateInfo?X()(e.confirmDateInfo[0]).valueOf():0,confirmDateEnd:e.confirmDateInfo?X()(e.confirmDateInfo[1]).valueOf():0};null!=e&&e.applicationDate?(t.sorting={},t.sorting.field="applicationDate",t.sorting.order="".concat(e.applicationDate,"ing")):null!=e&&e.confirmDate&&(t.sorting={},t.sorting.field="confirmDate",t.sorting.order="".concat(e.confirmDate,"ing")),$(t),rt(o()({},t)).then((function(e){st(null==e?void 0:e.list),le(e.redemptionFeePageSum),ae(e.subscriptionFeePageSum),ut(null==e?void 0:e.list,1)}))},isFirstRun:!1,total:(null==it?void 0:it.count)||0,formChildren:Ue,extra:Ke,dataSource:dt||[],paginationMap:{current:"page"},scroll:{x:"100%",y:ft-273},className:"table-footer",footer:function(){return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)("div",{className:"table-summary",_nk:"".concat(ee,"4q"),children:[(0,B.jsxs)("span",{className:"table-summary-num",_nk:"".concat(ee,"71"),children:["卖出费小计：",oe]}),(0,B.jsxs)("span",{className:"table-summary-num",_nk:"".concat(ee,"72"),children:["买入费小计：",ne]})]})})},_nk:"".concat(ee,"61")})})]}),(0,B.jsx)(f.Z,{open:se,getContainer:!1,width:1422,height:634,onCancel:function(){ue(!1)},title:ye,maskClosable:!0,footer:!1,className:"modal-table-detail",_nk:"".concat(ee,"81"),children:(0,B.jsx)(C.Z,{dataSource:xe,getData:function(e){var t={};null!=e&&e.applicationDate?(t.sorting={},t.sorting.field="applicationDate",t.sorting.order="".concat(e.applicationDate,"ing")):null!=e&&e.confirmDate&&(t.sorting={},t.sorting.field="confirmDate",t.sorting.order="".concat(e.confirmDate,"ing")),We(o()(o()({},Ee),t))},style:{height:413},columns:be,isFirstRun:!1,isShowPagination:!1,scroll:{x:"100%",y:453},loading:at,_nk:"".concat(ee,"62")},He)}),(0,B.jsx)(f.Z,{open:he,getContainer:!1,width:560,height:215,footer:(0,B.jsx)("div",{_nk:"".concat(ee,"4r"),children:(0,B.jsx)(u.Z,{onClick:function(){pe(!1)},type:"primary",_nk:"".concat(ee,"32"),children:"确定"})}),title:"非交易过户信息",onCancel:function(){pe(!1)},maskClosable:!0,className:"own-modal",_nk:"".concat(ee,"82"),children:(0,B.jsxs)("div",{className:"diagnosis-body",_nk:"".concat(ee,"4s"),children:[(0,B.jsxs)("div",{_nk:"".concat(ee,"4t"),children:[(0,B.jsx)("span",{className:"diagnosis-body-title",_nk:"".concat(ee,"73"),children:"出让人基金账号："}),(0,B.jsx)("span",{className:"diagnosis-body-id",_nk:"".concat(ee,"74"),children:Ze||"--"})]}),(0,B.jsxs)("div",{_nk:"".concat(ee,"4u"),children:[(0,B.jsx)("span",{className:"diagnosis-body-title",_nk:"".concat(ee,"75"),children:"受让人基金账号："}),(0,B.jsx)("span",{className:"diagnosis-body-id",_nk:"".concat(ee,"76"),children:Oe||"--"})]})]})})]})},ne="Zoif",ae=(d.Z.RangePicker,function(e){var t,n,a,i,l=e.cur,v=e.setCur,x=(0,m.useState)(0),N=c()(x,2),w=N[0],y=N[1],S=["T024 赎回","T522 申购","T999 华夏智投调仓","TA24 赎回到货币","TA26 投顾解约","TD22ZT 申购³"],D=(0,m.useContext)(I.CustomContext),j=D.userInfo,E=(D.fundAccId,j.customerId),Y=(j.customerName,j.email,j.mobile,(0,m.useState)(!1)),M=c()(Y,2),R=M[0],Z=M[1],A=(0,m.useState)([]),F=c()(A,2),T=F[0],O=F[1],z=(0,m.useState)([]),P=c()(z,2),L=P[0],H=P[1],G=(0,m.useState)(""),q=c()(G,2),V=q[0],U=q[1],J=(0,m.useState)([]),Q=c()(J,2),W=Q[0],ee=Q[1],ae=(0,m.useState)([]),re=c()(ae,2),ie=re[0],oe=re[1],le=(0,m.useState)([]),ce=c()(le,2),de=ce[0],se=ce[1],ue=(0,m.useState)([]),fe=c()(ue,2),me=fe[0],he=fe[1],pe=(0,m.useState)({}),ge=c()(pe,2),ve=ge[0],xe=ge[1],Ie=(0,m.useState)([]),Ce=c()(Ie,2),ke=Ce[0],be=Ce[1],Ne=(0,m.useState)([]),_e=c()(Ne,2),we=_e[0],ye=_e[1],Se=(0,m.useState)([]),De=c()(Se,2),je=De[0],Ee=De[1],Ye=(0,m.useState)([]),Me=c()(Ye,2),Re=Me[0],Ze=Me[1],Ae=(0,m.useState)([]),Fe=c()(Ae,2),Te=Fe[0],Oe=Fe[1],ze=(0,m.useState)(!1),Pe=c()(ze,2),Le=Pe[0],He=Pe[1],Ge=(0,m.useState)(""),qe=c()(Ge,2),Ve=qe[0],Be=qe[1],Ue=(0,m.useState)(""),Ke=c()(Ue,2),Je=Ke[0],Qe=Ke[1],$e=(0,m.useState)(""),We=c()($e,2),Xe=We[0],et=We[1],tt=(0,m.useState)(""),nt=c()(tt,2),at=nt[0],rt=nt[1],it=(0,m.useState)(""),ot=c()(it,2),lt=ot[0],ct=ot[1],dt=(0,m.useState)(!1),st=c()(dt,2),ut=st[0],ft=st[1],mt=(0,m.useRef)(),ht=(0,m.useState)(),pt=c()(ht,2),gt=(pt[0],pt[1],new Date),vt=gt.getFullYear(),xt=gt.getFullYear()-1,It=("0"+(gt.getMonth()+1)).slice(-2),Ct=("0"+gt.getDate()).slice(-2),kt="".concat(vt,"-").concat(It,"-").concat(Ct),bt="".concat(xt,"-").concat(It,"-").concat(Ct),Nt=(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(s.Z.Item,{label:"日期",name:"confirmDateRed",initialValue:[X()(bt,"YYYY-MM-DD"),X()(kt,"YYYY-MM-DD")],_nk:"".concat(ne,"11"),children:(0,B.jsx)(d.Z.RangePicker,{placeholder:["开始日期","结束日期"],allowEmpty:[!0,!0],_nk:"".concat(ne,"12")})})}),_t=new Map([["RED_REGIST",{columns:[{dataIndex:"fundName",width:150,title:"基金名称",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{className:"red-detail",onClick:function(){return St(t)},_nk:"".concat(ne,"21"),children:[" ",e||"-"]})}},{dataIndex:"superFundName",width:150,title:"投资组合名称",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{className:"red-detail",onClick:function(){return St(t)},_nk:"".concat(ne,"22"),children:[" ",e||"-"]})}},{dataIndex:"dividendTotalMoney",width:150,title:"分配金额",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{className:"red-detail",onClick:function(){return St(t)},_nk:"".concat(ne,"23"),children:[" ",e||"-"]})}},{dataIndex:"reinvestVolume",width:150,title:"分配份额（份）",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{className:"red-detail",onClick:function(){return St(t)},_nk:"".concat(ne,"24"),children:[" ",e||"-"]})}},{dataIndex:"agencyName",width:150,title:"交易机构",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsxs)("div",{className:"red-detail",onClick:function(){return St(t)},_nk:"".concat(ne,"25"),children:[" ",e||"-"]})}}],action:b.Q$,extra:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(u.Z,{type:"primary",className:"middle_btn",onClick:function(){return Dt()},_nk:"".concat(ne,"31"),children:"待结转份额"}),(0,B.jsx)(u.Z,{className:"search-btn",type:"default",onClick:function(){(0,b.qW)({customerId:E}).then((function(e){}))},_nk:"".concat(ne,"32"),children:"导出Excel"})]})}],["FAIL_REPORT",{columns:[{dataIndex:"applicationDate",width:120,title:"申请日期",sorter:!0,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:S.includes(t.businessName)?function(){return yt(t)}:"",_nk:"".concat(ne,"26"),children:e&&_()(e).format("YYYY-MM-DD")||"-"})}},{dataIndex:"confirmDate",width:120,title:"确认日期",sorter:!0,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:S.includes(t.businessName)?function(){return yt(t)}:"",_nk:"".concat(ne,"27"),children:e&&_()(e).format("YYYY-MM-DD")||"-"})}},{dataIndex:"businessName",width:120,title:"业务名称",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:S.includes(e)?function(){return yt(t)}:"",dangerouslySetInnerHTML:{__html:e},_nk:"".concat(ne,"28")})}},{dataIndex:"errorName",width:100,title:"错误名称",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:S.includes(t.businessName)?function(){return yt(t)}:"",_nk:"".concat(ne,"29"),children:e||"-"})}},{dataIndex:"fundName",width:120,title:"基金名称",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:S.includes(t.businessName)?function(){return yt(t)}:"",_nk:"".concat(ne,"2a"),children:e||"-"})}},{dataIndex:"superFundName",width:120,title:"智投组合名称",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:S.includes(t.businessName)?function(){return yt(t)}:"",_nk:"".concat(ne,"2b"),children:e||"-"})}},{dataIndex:"amount",width:120,title:"涉及金份额",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:S.includes(t.businessName)?function(){return yt(t)}:"",_nk:"".concat(ne,"2c"),children:e||"-"})}},{dataIndex:"failedReason",width:120,title:"未成功原因",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:S.includes(t.businessName)?function(){return yt(t)}:"",_nk:"".concat(ne,"2d"),children:e||"-"})}},{dataIndex:"failedReasonDetail",width:120,title:"详细原因",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:S.includes(t.businessName)?function(){return yt(t)}:"",_nk:"".concat(ne,"2e"),children:e||"-"})}},{dataIndex:"agencyName",width:120,title:"机构名称",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:S.includes(t.businessName)?function(){return yt(t)}:"",_nk:"".concat(ne,"2f"),children:e||"-"})}},{dataIndex:"ta",width:120,title:"数据源",sorter:!1,filter:!1,render:function(e,t){return(0,B.jsx)("div",{onClick:S.includes(t.businessName)?function(){return yt(t)}:"",_nk:"".concat(ne,"2g"),children:e||"-"})}}],action:b.Pg}],["RED_CHANGE",{columns:[{dataIndex:"applicationDate",width:120,title:"申请日期",sorter:!0,filter:!1,render:function(e,t){return e&&_()(e).format("YYYY-MM-DD")||"-"}},{dataIndex:"confirmDate",width:120,title:"确认日期",sorter:!0,filter:!1,render:function(e,t){return e&&_()(e).format("YYYY-MM-DD")||"-"}},{dataIndex:"businessName",width:120,title:"交易类型",sorter:!1,filters:W,filterMultiple:!1,render:function(e,t){return(0,B.jsx)("div",{dangerouslySetInnerHTML:{__html:e},_nk:"".concat(ne,"2h")})}},{dataIndex:"fundName",width:150,title:"申请基金",sorter:!1,filters:ie,filterSearch:function(e,t){return jt(e,t)},filterMultiple:!1},{dataIndex:"agencyName",width:120,title:"交易机构",sorter:!1,filters:de,filterMultiple:!1},{dataIndex:"tradeStatus",width:80,title:"交易状态",sorter:!1,filter:!1},{dataIndex:"fundAccountId",width:150,title:"托管账户",sorter:!1,filters:me,filterMultiple:!1},{dataIndex:"dividendMethod",width:150,title:"变更后分红方式",sorter:!1,filter:!1}],action:b.Be,formSearch:(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(s.Z.Item,{label:"日期",name:"confirmDateBonus",_nk:"".concat(ne,"13"),children:(0,B.jsx)(d.Z.RangePicker,{placeholder:["开始日期","结束日期"],allowEmpty:[!0,!0],_nk:"".concat(ne,"14")})})}),extra:(0,B.jsx)(u.Z,{className:"search-btn",type:"default",onClick:function(){(0,b.sr)(ve).then((function(e){}))},_nk:"".concat(ne,"33"),children:"导出Excel"})}],["COUNT_MANAGE",{columns:[{dataIndex:"applicationDate",width:150,title:"申请日期",sorter:!0,filter:!1,render:function(e){return(0,B.jsx)("div",{_nk:"".concat(ne,"2i"),children:e&&_()(e).format("YYYY-MM-DD")||"-"})}},{dataIndex:"businessName",width:150,title:"交易类型",sorter:!1,filter:!1},{dataIndex:"fundName",width:150,title:"基金名称",sorter:!1,filters:ke,filterSearch:function(e,t){return jt(e,t)},filterMultiple:!1},{dataIndex:"superFundName",width:150,title:"投顾组合",sorter:!1,filter:!1},{dataIndex:"agencyName",width:150,title:"交易机构",sorter:!1,filter:!1},{dataIndex:"amount",width:150,title:"金额",sorter:!1,filter:!1}],action:b.L_}]]),wt=(0,m.useMemo)((function(){return 1==w?[{dataIndex:"applicationDate",width:150,title:"申请日期",sorter:!0,filter:!1,render:function(e,t){return e&&_()(e).format("YYYY-MM-DD")||"-"}},{dataIndex:"confirmDate",width:150,title:"确认日期",sorter:!0,filter:!1,render:function(e,t){return e&&_()(e).format("YYYY-MM-DD")||"-"}},{dataIndex:"businessName",width:150,title:"业务名称",sorter:!1,filter:!1},{dataIndex:"errorName",width:150,title:"错误名称",sorter:!1,filter:!1},{dataIndex:"fundName",width:150,title:"基金名称",sorter:!1,filter:!1},{dataIndex:"amount",width:150,title:"涉及金份额",sorter:!1,filter:!1},{dataIndex:"failedReason",width:150,title:"未成功原因",sorter:!1,filter:!1},{dataIndex:"failedReasonDetail",width:150,title:"详细原因",sorter:!1,filter:!1},{dataIndex:"agencyName",width:150,title:"机构名称",sorter:!1,filter:!1},{dataIndex:"ta",width:150,title:"数据源",sorter:!1,filter:!1}]:2==w?[{dataIndex:"registerDate",width:150,title:"分红登记日期",sorter:!1,filter:!1,render:function(e){return(0,B.jsx)("div",{_nk:"".concat(ne,"2j"),children:e&&_()(e).format("YYYY-MM-DD")||"-"})}},{dataIndex:"confirmDate",width:150,title:"确认日期",sorter:!1,filter:!1,render:function(e){return(0,B.jsx)("div",{_nk:"".concat(ne,"2k"),children:e&&_()(e).format("YYYY-MM-DD")||"-"})}},{dataIndex:"fundName",width:150,title:"基金名称",sorter:!1,filter:!1},{dataIndex:"bonusShare",width:150,title:"登记份额（份）",sorter:!1,filter:!1},{dataIndex:"dividendTotalMoney",width:150,title:"分配金额",sorter:!1,filter:!1},{dataIndex:"reinvestVolume",width:150,title:"分配份额（份）",sorter:!1,filter:!1},{dataIndex:"dividendPerUnit",width:150,title:"单位红利",sorter:!1,filter:!1},{dataIndex:"reinvestNav",width:150,title:"红利再投资净值",sorter:!1,filter:!1},{dataIndex:"agencyName",width:150,title:"交易机构",sorter:!1,filter:!1},{dataIndex:"channelName",width:150,title:"所属渠道",sorter:!1,filters:Te,filterMultiple:!1}]:3==w?[{dataIndex:"confirmDate",width:150,title:"确认日期",sorter:!0,filter:!1,render:function(e){return(0,B.jsx)("div",{_nk:"".concat(ne,"2l"),children:e&&_()(e).format("YYYY-MM-DD")||"-"})}},{dataIndex:"fundName",width:150,title:"基金名称",sorter:!1,filters:we,filterSearch:function(e,t){return jt(e,t)},filterMultiple:!1},{dataIndex:"transIncome",width:150,title:"投资人应付收益余额",sorter:!1,filter:!1},{dataIndex:"todayTransIncome",width:150,title:"当日应付收益",sorter:!1,filter:!1},{dataIndex:"currentDayVolume",width:150,title:"当日应付收益余额",sorter:!1,filter:!1},{dataIndex:"agencyName",width:150,title:"交易机构",sorter:!1,filters:je,filterMultiple:!1},{dataIndex:"channelName",width:150,title:"所属渠道",sorter:!1,filters:Re,filterMultiple:!1}]:void 0})),yt=function(e){U(e.applicationNo),Z(!0),y(1),He(!1)},St=function(e){Be(e.fundCode),Qe(e.agencyCode),et(e.branchCode),He(!0),Z(!0),y(2)},Dt=function(){He(!1),Z(!0),y(3),ft(!0)},jt=function(e,t){var n=[],a=[];return null==t||t.map((function(e){var t={};t.text=e.title,t.value=e.key,n.push(t)})),0==e.length?n:(null==n||n.map((function(t){(t.value.includes(e)||t.text.includes(e))&&a.push(t)})),a)},Et=(0,k.useRequest)((function(e){var t;return null===(t=_t.get(l))||void 0===t?void 0:t.action(e)}),{manual:!0}),Yt=Et.loading,Mt=Et.run,Rt=Et.data,Zt=(0,k.useRequest)(b.Hu,{manual:!0}),At=Zt.loading,Ft=Zt.run,Tt=(Zt.data,(0,k.useRequest)(b.Mt,{manual:!0})),Ot=Tt.loading,zt=Tt.run,Pt=(Tt.data,(0,k.useRequest)(b.zo,{manual:!0})),Lt=Pt.loading,Ht=Pt.run,Gt=(Pt.data,function(e){if("FAIL_REPORT"==l){var t={page:1,pageSize:10,customerId:E||""};t.page=(null==e?void 0:e.page)||1,t.pageSize=(null==e?void 0:e.pageSize)||10,null!=e&&e.confirmDate?(t.sorting={},t.sorting.field="confirmDate",t.sorting.order="".concat(e.confirmDate,"ing")):null!=e&&e.applicationDate&&(t.sorting={},t.sorting.field="applicationDate",t.sorting.order="".concat(e.applicationDate,"ing")),Mt(o()({},t))}else if("RED_CHANGE"==l){var n={page:1,pageSize:10,confirmDateBegin:e.confirmDateBonus?X()(e.confirmDateBonus[0]).valueOf():void 0,confirmDateEnd:e.confirmDateBonus?X()(e.confirmDateBonus[1]).valueOf():void 0,fundCode:e.fundName,agencyCode:e.agencyName,fundAccountId:e.fundAccountId,customerId:E||"",businessCodeAndTaId:e.businessName};n.page=(null==e?void 0:e.page)||1,n.pageSize=(null==e?void 0:e.pageSize)||10,null!=e&&e.confirmDate?(n.sorting={},n.sorting.field="confirmDate",n.sorting.order="".concat(e.confirmDate,"ing")):null!=e&&e.applicationDate&&(n.sorting={},n.sorting.field="applicationDate",n.sorting.order="".concat(e.applicationDate,"ing")),xe(n),Mt(o()({},n))}else if("COUNT_MANAGE"==l){var a={page:1,pageSize:10,fundCode:e.fundName,customerId:E||""};a.page=(null==e?void 0:e.page)||1,a.pageSize=(null==e?void 0:e.pageSize)||10,a.fundCode=(null==e?void 0:e.fundName)||"",null!=e&&e.applicationDate&&(a.sorting={},a.sorting.field="applicationDate",a.sorting.order="".concat(e.applicationDate,"ing")),Mt(o()({},a))}else if("RED_REGIST"==l){var r=1,i={page:(null==e?void 0:e.page)||1,pageSize:(null==e?void 0:e.pageSize)||10,customerId:E||""},c=function(){Mt(o()({},i)).catch((function(e){r<5&&(c(),r+=1)}))};c()}}),qt=function(e){if("FAIL_REPORT"==l){var t={page:1,pageSize:10,customerId:E||"",applicationNo:V};t.page=(null==e?void 0:e.page)||1,t.pageSize=(null==e?void 0:e.pageSize)||10,null!=e&&e.confirmDate?(t.sorting={},t.sorting.field="confirmDate",t.sorting.order="".concat(e.confirmDate,"ing")):null!=e&&e.applicationDate&&(t.sorting={},t.sorting.field="applicationDate",t.sorting.order="".concat(e.applicationDate,"ing")),zt(o()({},t)).then((function(e){var t,n;O(null===(t=e.data)||void 0===t?void 0:t.list),H(null===(n=e.data)||void 0===n?void 0:n.count)}))}else if("RED_REGIST"==l)if(Le){var n={page:1,pageSize:10,fundCode:Ve,agencyCode:Je,superChannel:Xe,customerId:E||"",confirmDateBegin:e.confirmDateRed?X()(e.confirmDateRed[0]).valueOf():new Date(bt).getTime(),confirmDateEnd:e.confirmDateRed?X()(e.confirmDateRed[1]).valueOf():new Date(kt).getTime(),channelId:""};n.page=(null==e?void 0:e.page)||1,n.pageSize=(null==e?void 0:e.pageSize)||10,Ft(o()({},n)).then((function(e){var t,n,a,i;(null==e?void 0:e.filterings)&&(null==e?void 0:e.filterings.length)>0&&(null==e||e.filterings.forEach((function(e){"channelId"==e.field&&Oe(r()(e.items))}))),rt(null==e||null===(t=e.data)||void 0===t?void 0:t.dividendTotalMoney),ct(null==e||null===(n=e.data)||void 0===n?void 0:n.reinvestVolume),O(null===(a=e.data)||void 0===a?void 0:a.list),H(null===(i=e.data)||void 0===i?void 0:i.count)}))}else{var a={page:1,pageSize:10,fundCode:e.fundName,agencyCode:e.agencyName,channelId:e.channelName,customerId:E||""};a.page=(null==e?void 0:e.page)||1,a.pageSize=(null==e?void 0:e.pageSize)||10,null!=e&&e.confirmDate&&(a.sorting={},a.sorting.field="confirmDate",a.sorting.order="".concat(e.confirmDate,"ing")),Ht(a).then((function(e){var t,n;(null==e?void 0:e.filterings)&&(null==e?void 0:e.filterings.length)>0&&(null==e||e.filterings.forEach((function(e){"fundCode"==e.field&&ye(e.items),"agencyCode"==e.field&&Ee(e.items),"channelId"==e.field&&Ze(e.items)}))),O(null===(t=e.data)||void 0===t?void 0:t.list),H(null===(n=e.data)||void 0===n?void 0:n.count)}))}};(0,m.useEffect)((function(){R&&qt({page:1,pageSize:10,customerId:E||"",applicationNo:V})}),[R]);(0,m.useEffect)((function(){var e;e={page:1,pageSize:5,confirmDateBegin:0,confirmDateEnd:0,fundCode:"",agencyCode:"",fundAccountId:"",customerId:E||"",businessCodeAndTaId:""},(0,b.Be)(e).then((function(e){(null==e?void 0:e.filterings)&&(null==e?void 0:e.filterings.length)>0&&(null==e||e.filterings.forEach((function(e){switch(e.field){case"businessCodeAndTaId":e.items.forEach((function(e){e.label=e.text})),ee(e.items);break;case"fundCode":e.items.forEach((function(e){e.label=e.text})),oe(e.items);break;case"agencyCode":e.items.forEach((function(e){e.label=e.text})),se(e.items);break;case"fundAccountId":e.items.forEach((function(e){e.label=e.text})),he(e.items)}})))})),function(){var e={page:1,pageSize:5,confirmDateBegin:0,confirmDateEnd:0,fundCode:"",agencyCode:"",fundAccountId:"",customerId:E||"",businessCodeAndTaId:""};(0,b.L_)(e).then((function(e){(null==e?void 0:e.filterings)&&(null==e?void 0:e.filterings.length)>0&&(null==e||e.filterings.forEach((function(e){"fundCode"==e.field&&be(e.items)})))}))}(),Ht({page:1,pageSize:10,customerId:E||""}).then((function(e){var t,n;(null==e?void 0:e.filterings)&&(null==e?void 0:e.filterings.length)>0&&(null==e||e.filterings.forEach((function(e){"fundCode"==e.field&&ye(e.items),"agencyCode"==e.field&&Ee(e.items),"channelId"==e.field&&Ze(e.items)}))),O(null===(t=e.data)||void 0===t?void 0:t.list),H(null===(n=e.data)||void 0===n?void 0:n.count)}))}),[]),(0,m.useEffect)((function(){O([]),Gt({page:1,pageSize:10})}),[l,E]);var Vt=(null===(t=mt.current)||void 0===t?void 0:t.offsetHeight)||360;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("div",{className:"common-tabtable-style account-style",ref:mt,style:{height:"100%"},_nk:"".concat(ne,"2m"),children:(0,B.jsx)(h.Z,{className:"first-tab tab-height",tabList:p.VD,current:l,onClick:function(e){v(e)},_nk:"".concat(ne,"41"),children:"ACCOUNT_POSITION"==l?(0,B.jsx)(g.KeepAlive,{name:"ACCOUNT_POSITION",cacheKey:JSON.stringify(D)+"ACCOUNT_POSITION",_nk:"".concat(ne,"51"),children:(0,B.jsx)($,{_nk:"".concat(ne,"61")})}):"PAY_DETAIL"==l?(0,B.jsx)(g.KeepAlive,{name:"PAY_DETAIL",cacheKey:JSON.stringify(D)+"PAY_DETAIL",_nk:"".concat(ne,"52"),children:(0,B.jsx)(te,{_nk:"".concat(ne,"71")})}):(0,B.jsx)(g.KeepAlive,{name:"shareInfos",cacheKey:JSON.stringify(D)+"shareInfos",_nk:"".concat(ne,"53"),children:(0,B.jsxs)("div",{className:"common-tabbody-style".concat("COUNT_MANAGE"!==l?" has-trade-tabbody-style":""),style:{height:"100%"},_nk:"".concat(ne,"2n"),children:["COUNT_MANAGE"!==l&&(0,B.jsx)(K,{_nk:"".concat(ne,"81")}),(0,B.jsx)("div",{className:"tradeinfo_buttom",_nk:"".concat(ne,"2o"),children:(0,B.jsx)(C.Z,{dataSource:(null==Rt?void 0:Rt.list)||(null==Rt?void 0:Rt.shareInfos)||[],columns:(null===(n=_t.get(l))||void 0===n?void 0:n.columns)||[],loading:Yt,getData:Gt,isFirstRun:!1,total:(null==Rt?void 0:Rt.count)||0,formChildren:null===(a=_t.get(l))||void 0===a?void 0:a.formSearch,extra:null===(i=_t.get(l))||void 0===i?void 0:i.extra,paginationMap:{current:"page"},scroll:{x:"100%",y:"RED_CHANGE"==l||"RED_REGIST"==l?Vt-293:Vt-232},_nk:"".concat(ne,"91")},l)})]})})})}),(0,B.jsx)(f.Z,{open:R,getContainer:!1,width:1422,footer:!1,destroyOnClose:!0,onCancel:function(){Z(!1),ft(!1),He(!1),O([])},title:ut&&"RED_REGIST"==l?"应付收益明细":"RED_REGIST"==l&&Le?"分红明细":"",maskClosable:!0,className:"modal-table-detail",_nk:"".concat(ne,"a1"),children:(0,B.jsx)(C.Z,{dataSource:T||[],columns:wt,loading:At||Ot||Lt,getData:qt,isFirstRun:!1,total:L||0,paginationMap:{current:"page"},scroll:{x:"100%",y:260},formChildren:"RED_REGIST"==l&&Le?Nt:"",className:"RED_REGIST"==l&&Le?"table-footer":"table-footer-null",footer:function(){return(0,B.jsx)(B.Fragment,{children:"RED_REGIST"==l&&Le?(0,B.jsxs)("div",{className:"table-summary",_nk:"".concat(ne,"2p"),children:[(0,B.jsxs)("span",{className:"table-summary-num",_nk:"".concat(ne,"b1"),children:["总计分配金额：",at]}),(0,B.jsxs)("span",{className:"table-summary-num",_nk:"".concat(ne,"b2"),children:["总计分配份额（份）：",lt]})]}):null})},_nk:"".concat(ne,"92")},l)})]})})},84161:function(e,t,n){var a=n(58646),r=n(978),i=n(89003),o=n(30875),l=function(e,t){return r.createElement(o.Z,(0,a.Z)({},e,{ref:t,icon:i.Z}))},c=r.forwardRef(l);t.Z=c}}]);