"use strict";(self.webpackChunksub_know_seat=self.webpackChunksub_know_seat||[]).push([[59],{56059:function(e,n,t){t.r(n),t.d(n,{default:function(){return le}});var a=t(4044),i=t.n(a),r=t(4143),l=t.n(r),c=t(35118),o=t.n(c),s=t(17662),u=t.n(s),d=t(31404),m=t.n(d),f=t(17925),h=t.n(f),x=t(91711),v=t.n(x),p=(t(63669),t(79062),t(96371),t(87017),t(16769),t(3391),t(48239),t(80348),t(11961),t(42476),t(29964),t(10796),t(13908),t(8532),t(69357),t(62365)),A=t(82405),k=t(6889),g=t(60047),b=t(14748),j=t(48493),w=t(34738),I=t(81884),N=t(2344),C=t(22944),y=t(978),M=t(73287),Z=t(60030),S=t(92938),_=(t(54233),function(e){return e.pendingExcute="待执行",e.successSend="发送好友申请成功",e.friended="成为好友",e.rejected="被拒绝",e.fansNotFount="查找微信号不存在",e.unHasProfile="无可用运营号",e.blocked="被拉黑",e.beDelete="被删除",e.fail="失败",e}({})),E={7:_.pendingExcute,"-9":_.pendingExcute,11:_.blocked,3:_.successSend,2:_.rejected,1:_.friended,6:_.fansNotFount,4:_.pendingExcute,0:_.pendingExcute,5:_.pendingExcute,9997:_.pendingExcute,12:_.pendingExcute,997:_.pendingExcute,99997:_.unHasProfile,"-555":_.beDelete,999997:_.fail},Y=function(){var e=new Map;for(var n in E){var t;if(e.has(E[n]))null===(t=e.get(E[n]))||void 0===t||t.value.push(n);else e.set(E[n],{label:E[n],text:E[n],value:[n]})}return i()(e.values())},D=(t(8186),t(72451),t(68900),t(6503),t(3220)),F=t(81945),T=t(37739),R=t(50107),K="ujjK",B=t(3282),P=function(e){return new Promise((function(n,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return n(a.result)},a.onerror=function(e){return t(e)}}))},H=function(e){var n=e.helloMsg,t=e.setFileList,a=e.fileList,r=e.setHelloMsg,l=(0,y.useState)(!1),c=h()(l,2),s=c[0],d=c[1],f=(0,y.useState)(""),x=h()(f,2),v=x[0],p=x[1],A=(0,y.useState)(""),k=h()(A,2),g=k[0],b=k[1],j=function(){var e=m()(u()().mark((function e(n){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.url||n.preview){e.next=4;break}return e.next=3,P(n.originFileObj);case 3:n.preview=e.sent;case 4:p(n.url||n.preview),d(!0),b(n.name||n.url.substring(n.url.lastIndexOf("/")+1));case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),w=(0,R.jsxs)("div",{className:"upload-btn",_nk:"".concat(K,"11"),children:[(0,R.jsx)(D.Z,{style:{color:"#324770",fontSize:14},_nk:"".concat(K,"21")}),(0,R.jsx)("div",{style:{marginTop:8},_nk:"".concat(K,"12"),children:"添加图片"})]});return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(F.Z,{defaultActiveKey:"1",renderTabBar:function(e,n){return(0,R.jsx)(n,o()(o()({},e),{},{_nk:"".concat(K,"41"),children:function(e){return(0,R.jsx)("div",{className:"msg-tab-title",_nk:"".concat(K,"13"),children:e})}}))},animated:!1,items:null==n?void 0:n.filter((function(e){return 1===e.type})).map((function(e,t){var a;return{label:"文本"+(t+1),key:e.type+(t+1),children:(0,R.jsxs)("div",{_nk:"".concat(K,"14"),children:[(0,R.jsx)("textarea",{placeholder:"请输入",value:e.content||"",onChange:function(t){var a,l;(null==t||null===(a=t.target)||void 0===a||null===(a=a.value)||void 0===a?void 0:a.length)>1e3||(e.content=(null==t||null===(l=t.target)||void 0===l?void 0:l.value)||"",r(i()(n)))},className:"msg-text",rows:"11",_nk:"".concat(K,"51")}),(0,R.jsxs)("span",{className:"cur-count",_nk:"".concat(K,"61"),children:[null===(a=e.content)||void 0===a?void 0:a.length,(0,R.jsx)("span",{className:"max-count",_nk:"".concat(K,"62"),children:"/1000"})]})]})}})).concat([{label:"图片",key:"img",children:(0,R.jsx)(T.Z,{action:"/rest/csibs/friend/upload",listType:"picture-card",fileList:a,onPreview:j,onChange:function(e){var n=e.fileList;return t(n)},itemRender:function(e,n,a){return(0,R.jsxs)("div",{className:"file-item",_nk:"".concat(K,"15"),children:[(0,R.jsx)("img",{src:(null==n?void 0:n.thumbUrl)||"",alt:"",className:"img-file",_nk:"".concat(K,"81")}),(0,R.jsx)("img",{src:B,alt:"",className:"remove-icon",onClick:function(){return function(e,n){var a=n.findIndex((function(n){return n.uid===e.uid}));a>-1&&(n.splice(a,1),t(i()(n)))}(n,a)},_nk:"".concat(K,"82")}),(0,R.jsx)("div",{className:"img-file-mask",onClick:function(){return j(n)},_nk:"".concat(K,"16"),children:"预览"})]})},_nk:"".concat(K,"71"),children:(null==a?void 0:a.length)<3&&w})}]),_nk:"".concat(K,"31")}),(0,R.jsx)(C.Z,{open:s,title:g,footer:null,onCancel:function(){return d(!1)},_nk:"".concat(K,"91"),children:(0,R.jsx)("img",{alt:"example",style:{width:"100%"},src:v,_nk:"".concat(K,"83")})})]})},U=t(23469),V=t.n(U),G=t(64283),Q=t(48477),O=t(90681),q="Ab2Y",z=t(96711),X=t(76746),J=function(e){var n=e.allCardInfo,t=void 0===n?[]:n,a=e.isShowDefaultCard,i=void 0!==a&&a,r=(0,y.useContext)(Z.CustomContext),l=r.userInfo,c=(r.callNumber,l.customerSex),o=[];V()(t).forEach((function(e){var n;null===(n=e.information)||void 0===n||n.forEach((function(n){n.source=e.source}));var t=o.find((function(n){return n.mobile===e.mobile}));t?t.information=t.information.concat(e.information):o.push(e)}));var s=function(e){var n,t;return(0,R.jsxs)("div",{className:"head-card",_nk:"".concat(q,"11"),children:[(0,R.jsx)("div",{className:"top",_nk:"".concat(q,"12"),children:(0,R.jsxs)("div",{className:"top-name",_nk:"".concat(q,"13"),children:[(0,R.jsx)("img",{src:c===O.cI.female?z:X,alt:"",className:"avator",_nk:"".concat(q,"21")}),(0,R.jsx)("div",{className:"nick-name",_nk:"".concat(q,"14"),children:e.mobile})]})}),null!==(n=e.information)&&void 0!==n&&n.length?(0,R.jsx)("div",{className:"desc-box",_nk:"".concat(q,"15"),children:null===(t=e.information)||void 0===t?void 0:t.map((function(e){var n;return(0,R.jsxs)("div",{className:"content active",_nk:"".concat(q,"16"),children:[(0,R.jsxs)("div",{className:"card-row",_nk:"".concat(q,"17"),children:[(0,R.jsxs)(G.Z.Text,{style:{width:190},ellipsis:{tooltip:e.source},_nk:"".concat(q,"31"),children:["数据来源:",e.source]}),(0,R.jsxs)(G.Z.Text,{style:{width:190},ellipsis:{tooltip:e.nickName},_nk:"".concat(q,"32"),children:["昵称:",e.nickName]})]}),(0,R.jsxs)(G.Z.Text,{style:{width:370},ellipsis:{tooltip:e.unionId},_nk:"".concat(q,"33"),children:["UnionID：",e.unionId]}),(0,R.jsx)(I.Z,{wrap:!0,size:[0,0],split:(0,R.jsx)(Q.Z,{type:"vertical",_nk:"".concat(q,"51")}),_nk:"".concat(q,"41"),children:null===(n=e.friendDetailList)||void 0===n?void 0:n.map((function(e){return(0,R.jsx)(g.Z,{placement:"bottom",title:"添加时间："+e.addTime,_nk:"".concat(q,"61"),children:(0,R.jsx)("span",{_nk:"".concat(q,"71"),children:e.nickName})},e.unionId)}))})]},e.unionId)}))}):(0,R.jsx)("div",{className:"empty",_nk:"".concat(q,"18"),children:"- 暂未添加企微好友 -"})]},e.mobile)};return(0,R.jsx)("div",{className:"info-card-container",_nk:"".concat(q,"19"),children:o.map((function(e){var n;return i||null!==(n=e.information)&&void 0!==n&&n.length?s(e):null}))})},L="addFans___e3Nmp",W=t(90577),$=t.n(W),ee=t(86013),ne=t(8518),te=t(62267),ae=t(29046),ie="iose",re=function(e){return e.fullHistory="fullHistory",e.allHistory="allHistory",e.null="null",e}(re||{}),le=function(){var e=(0,y.useContext)(Z.CustomContext),n=e.userInfo,t=e.callNumber,a=void 0===t?"":t,r=p.Z.useForm(),c=h()(r,1)[0],s=(0,y.useRef)(),d=(0,y.useState)([]),f=h()(d,2),x=f[0],_=f[1],E=(0,y.useState)([]),D=h()(E,2),F=D[0],T=D[1],K=(0,y.useState)([]),B=h()(K,2),P=B[0],U=B[1],V=(0,y.useState)([]),G=h()(V,2),Q=G[0],O=G[1],q=(0,y.useState)(),z=h()(q,2),X=z[0],W=z[1],le=(0,y.useState)([]),ce=h()(le,2),oe=ce[0],se=ce[1],ue=(0,y.useState)(!1),de=h()(ue,2),me=de[0],fe=de[1],he=(0,y.useState)(""),xe=h()(he,2),ve=xe[0],pe=xe[1],Ae=(0,y.useRef)(""),ke=(0,y.useState)(re.null),ge=h()(ke,2),be=ge[0],je=ge[1],we=(0,S.useRequest)(ee.vC,{manual:!0}),Ie=we.run,Ne=we.refresh,Ce=we.loading,ye=we.data,Me=(0,S.useRequest)(ee.vC,{manual:!0}),Ze=Me.run,Se=Me.refresh,_e=Me.loading,Ee=Me.data,Ye=(0,y.useState)([]),De=h()(Ye,2),Fe=De[0],Te=De[1],Re=n.customerName,Ke=n.customerId,Be=void 0===Ke?"":Ke,Pe=n.mobile,He=void 0===Pe?"":Pe,Ue=n.tradeMobile,Ve=void 0===Ue?"":Ue,Ge=n.otherMobile,Qe=void 0===Ge?"":Ge,Oe=function(){var e=m()(u()().mark((function e(n){var t;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ee.ui)(n);case 2:(t=e.sent).data&&_(t.data||[]);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),qe=function(){var e=m()(u()().mark((function e(n){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ie(o()(o()({},n),{},{customer:Be}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ze=function(e){return/^1\d{10}$/.test(e)},Xe=[{phoneType:"来电",phone:a,disabled:!ze(a)},{phoneType:"服务",phone:He,disabled:!ze(He)},{phoneType:"直销",phone:Ve,disabled:!ze(Ve)},{phoneType:"其他",phone:Qe,disabled:!ze(Qe)}];(0,y.useEffect)((function(){if(Be){var e="";Xe.forEach((function(n){n.disabled||(e=n.phone)})),Ae.current=e,c.setFieldValue("clue",e),Oe({customerMobile:He,tradeMobile:Ve,otherMobile:Qe,callNumber:a,inputNumber:""}),pe(""),qe({page:1,pageSize:10})}}),[Be,a,He,Ve,Qe]),(0,y.useEffect)((function(){var e;if(ve){var n=null===(e=Xe.find((function(e){return e.phoneType===ve})))||void 0===e?void 0:e.phone;Ae.current=n,Oe({customerMobile:"服务"===ve?n:"",tradeMobile:"直销"===ve?n:"",otherMobile:"其他"===ve?n:"",callNumber:"来电"===ve?n:"",inputNumber:""})}}),[ve]),(0,y.useEffect)((function(){(0,ee.Kv)({status:1}).then((function(e){T(e.data||[])})),(0,ee.Ij)().then((function(e){U(e.data||[])})),(0,ee.Cd)().then((function(e){O(e.data||[])}))}),[]);var Je=function(){var e=m()(u()().mark((function e(n){var t,a,i;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ee.Lb)({mobile:n.clue});case 2:if(a=e.sent,null===(t=a.data)||void 0===t||!t.canAdd){e.next=10;break}return e.next=6,(0,ee.pD)({jobId:n.id||""});case 6:"0000"===e.sent.code&&(A.ZP.success("添加成功"),Ne(),Se()),e.next=11;break;case 10:A.ZP.error(null===(i=a.data)||void 0===i?void 0:i.message);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Le=function(){var e=m()(u()().mark((function e(n,t){var a,i,r,l;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(i=(null==n?void 0:n.trim())||"")&&i.length){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,(0,ee.Kv)({keyword:i});case 5:return r=e.sent,l=(null===(a=r.data)||void 0===a?void 0:a.map((function(e){return{text:e.taskName,value:e.taskName}})))||[],e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),We=function(){var e=m()(u()().mark((function e(n,t,a,r){var c,o,s,d,m;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(o=(null==n?void 0:n.trim())||"")&&o.length&&!((null==o?void 0:o.length)<4)){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,(0,ee.vC)(l()(l()(l()({},a,o),"page",1),"pageSize",20));case 5:return s=e.sent,d=i()(new Set((null===(c=s.data)||void 0===c||null===(c=c.list)||void 0===c?void 0:c.map((function(e){return e[r]})))||[])),m=d.map((function(e){return{text:e,value:e}}))||[],e.abrupt("return",m);case 9:case"end":return e.stop()}}),e)})));return function(n,t,a,i){return e.apply(this,arguments)}}(),$e=(0,y.useMemo)((function(){var e=[{dataIndex:"id",align:"center",width:60,title:"操作",render:function(e,n){return 1===n.reAddStatus?"-":(0,R.jsx)(k.Z,{type:"link",onClick:function(){return Je(n)},_nk:"".concat(ie,"11"),children:"重加"})}},{width:150,dataIndex:"custName",title:"客户姓名"},{width:150,dataIndex:"custId",title:"CustID"},{width:150,dataIndex:"clue",title:"手机号",filters:[],filterMultiple:!1,filterSearch:function(e,n){return We(e,n,"clue","clue")},removeFiltersOnCancelFilter:!0},{width:150,dataIndex:"taskName",title:"任务名称",filters:[],removeFiltersOnCancelFilter:!0,filterMultiple:!1,filterSearch:Le},{width:150,dataIndex:"status",title:"加粉状态",filters:Y()},{width:150,dataIndex:"executeTime",title:"执行时间",render:function(e){return e?$()(e).format("YYYY-MM-DD HH:mm:ss"):"-"}},{width:150,dataIndex:"createTime",title:"操作时间",render:function(e){return e?$()(e).format("YYYY-MM-DD HH:mm:ss"):"-"}},{width:150,dataIndex:"operator",title:"操作人员",filterSearch:!0,filterMultiple:!1,filters:P.map((function(e){return{text:e.seatName+(e.username?"-"+e.username:""),value:e.seatId}})),render:function(e){return(0,R.jsx)(g.Z,{title:(null==e?void 0:e.seatName)+(null!=e&&e.username?"-"+(null==e?void 0:e.username):""),_nk:"".concat(ie,"21"),children:(0,R.jsx)("span",{_nk:"".concat(ie,"31"),children:(null==e?void 0:e.seatName)||"-"})})}},{width:150,dataIndex:"profileName",title:"执行账号",filterSearch:!0,filterMultiple:!1,filters:Q.map((function(e){return{label:e,text:e,value:e}}))},{width:150,dataIndex:"unionId",title:"unionID"},{width:150,dataIndex:"remarkName",title:"备注名"},{width:150,dataIndex:"description",title:"描述"},{width:150,dataIndex:"verifyMsg",title:"验证消息"},{width:450,dataIndex:"helloMsg",title:"欢迎语"},{width:150,dataIndex:"addFriendPictures",title:"新增图片"}],n=[{dataIndex:"id",width:60,align:"center",title:"操作",render:function(e,n){return 1===n.reAddStatus?"-":(0,R.jsx)(k.Z,{type:"link",onClick:function(){return Je(n)},_nk:"".concat(ie,"12"),children:"重加"})}},{dataIndex:"taskName",title:"任务名称"},{width:150,dataIndex:"clue",title:"手机号",filters:[],filterMultiple:!1,filterSearch:function(e,n){return We(e,n,"clue","clue")},removeFiltersOnCancelFilter:!0},{dataIndex:"status",title:"加粉状态",filters:Y()},{dataIndex:"executeTime",title:"执行时间",render:function(e){return e?$()(e).format("YYYY-MM-DD HH:mm:ss"):"-"}},{dataIndex:"createTime",title:"操作时间",render:function(e){return e?$()(e).format("YYYY-MM-DD HH:mm:ss"):"-"}},{dataIndex:"operator",title:"操作人员",filterMultiple:!1,filterSearch:!0,filters:P.map((function(e){return{text:e.seatName+(e.username?"-"+e.username:""),value:e.seatId}})),render:function(e){return(0,R.jsx)(g.Z,{title:(null==e?void 0:e.seatName)+(null!=e&&e.username?"-"+(null==e?void 0:e.username):""),_nk:"".concat(ie,"22"),children:(0,R.jsx)("span",{_nk:"".concat(ie,"32"),children:(null==e?void 0:e.seatName)||"-"})})}},{dataIndex:"profileName",title:"执行账号",filterMultiple:!1,filterSearch:!0,filters:Q.map((function(e){return{label:e,text:e,value:e}}))}];return re.null===be?[]:re.fullHistory===be?n:re.allHistory===be?e:void 0}),[be,P,Q]),en=[{dataIndex:"id",width:60,title:"操作",align:"center",render:function(e,n){return 1===n.reAddStatus?"-":(0,R.jsx)(k.Z,{type:"link",onClick:function(){return Je(n)},_nk:"".concat(ie,"13"),children:"重加"})}},{dataIndex:"taskName",title:"任务名称"},{dataIndex:"clue",title:"手机号"},{dataIndex:"status",width:80,title:"加粉状态"}],nn=function(e){var n,t,a,i,r,l;return o()(o()({},e),{},{customer:re.fullHistory===be?Be:e.custId,statusList:null===(n=e.status)||void 0===n||null===(t=n.flat)||void 0===t?void 0:t.call(n),executeTimeStart:e.executeTimeRange?null===(a=e.executeTimeRange)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.format("YYYY-MM-DD"):void 0,executeTimeEnd:e.executeTimeRange?null===(i=e.executeTimeRange)||void 0===i||null===(i=i[1])||void 0===i?void 0:i.format("YYYY-MM-DD"):void 0,createTimeStart:e.createTimeRange?null===(r=e.createTimeRange)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.format("YYYY-MM-DD"):void 0,createTimeEnd:e.createTimeRange?null===(l=e.createTimeRange)||void 0===l||null===(l=l[1])||void 0===l?void 0:l.format("YYYY-MM-DD"):void 0})},tn={columns:$e,loading:_e,total:(null==Ee?void 0:Ee.count)||0,dataSource:(null==Ee?void 0:Ee.list)||[],getData:function(e){var n=nn(e);return Ze(n)},rowKey:"id",formChildren:(0,R.jsxs)(R.Fragment,{children:[re.fullHistory!==be&&(0,R.jsx)(p.Z.Item,{label:"姓名/ID：",name:"custId",_nk:"".concat(ie,"41"),children:(0,R.jsx)(b.Z,{placeholder:"请输入",_nk:"".concat(ie,"51")})}),(0,R.jsx)(p.Z.Item,{label:"操作时间：",name:"createTimeRange",_nk:"".concat(ie,"42"),children:(0,R.jsx)(j.Z.RangePicker,{placeholder:["开始日期","结束日期"],allowEmpty:[!0,!0],_nk:"".concat(ie,"43")})}),(0,R.jsx)(p.Z.Item,{label:"执行时间：",name:"executeTimeRange",_nk:"".concat(ie,"44"),children:(0,R.jsx)(j.Z.RangePicker,{placeholder:["开始日期","结束日期"],allowEmpty:[!0,!0],_nk:"".concat(ie,"45")})})]}),extra:(0,R.jsx)(k.Z,{type:"primary",onClick:m()(u()().mark((function e(){var n,t,a,i;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=s.current)||void 0===n?void 0:n.getTableParams();case 2:return t=e.sent,fe(!0),a=nn(v()(t,"page","pageSize")),e.next=7,(0,ee.TH)(a).catch((function(e){return fe(!1)}));case 7:"0000"===(null==(i=e.sent)?void 0:i.code)&&A.ZP.success("导出成功"),fe(!1);case 10:case"end":return e.stop()}}),e)}))),loading:me,_nk:"".concat(ie,"14"),children:me?"导出中":"导出"})},an=function(e){je(e)},rn=function(){var e=m()(u()().mark((function e(n){var t,a,i,r;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ee.Lb)({mobile:n.clue});case 2:if(a=e.sent,null===(t=a.data)||void 0===t||!t.canAdd){e.next=14;break}return i=o()(o()(o()({},n),{},{custName:Re,custId:Be},X),{},{helloMsg:oe.concat(Fe.map((function(e){var n;return{type:3,key:e.name,content:(null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.filePath)||""}})))}),e.next=7,(0,ee.N0)(i);case 7:A.ZP.success("添加成功"),c.resetFields(),se([]),Te([]),Ne(),e.next=15;break;case 14:A.ZP.error(null===(r=a.data)||void 0===r?void 0:r.message);case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ln=null==x?void 0:x.some((function(e){var n;return(null===(n=e.information)||void 0===n?void 0:n.length)>0})),cn=ln?x:[{mobile:Ae.current}];return(0,R.jsxs)("div",{className:L,_nk:"".concat(ie,"61"),children:[(0,R.jsxs)("div",{className:"scroll-box",_nk:"".concat(ie,"62"),children:[(0,R.jsx)(J,{allCardInfo:cn,isShowDefaultCard:!ln,_nk:"".concat(ie,"71")}),(0,R.jsx)("div",{className:"add-fans-form-title",_nk:"".concat(ie,"63"),children:"添加好友"}),(0,R.jsxs)(p.Z,{form:c,className:"add-fans-form",labelCol:{flex:"0 0 82px"},wrapperCol:{flex:"1"},onFinish:rn,name:"dynamic_rule",style:{width:"100%"},_nk:"".concat(ie,"81"),children:[(0,R.jsx)(p.Z.Item,{name:"clue",label:"手机号",rules:[{required:!0,message:"请输入手机号！"}],style:{marginBottom:0},_nk:"".concat(ie,"46"),children:(0,R.jsx)(w.Z,{onBlur:function(e){if(e.target.value){var n=(t=e.target.value,(a=t.match(/^\d+/))?null==a?void 0:a[0]:"");Oe({customerMobile:"",tradeMobile:"",otherMobile:"",callNumber:"",inputNumber:n})}var t,a},style:{width:275},controls:!1,placeholder:"请输入",_nk:"".concat(ie,"91")})}),(0,R.jsx)(I.Z,{size:4,className:"phone-tag-box",_nk:"".concat(ie,"a1"),children:null==Xe?void 0:Xe.map((function(e){return(0,R.jsx)("div",{onClick:function(){e.disabled||(pe(e.phoneType),c.setFieldValue("clue",e.phone))},className:"phone-tag ".concat(e.disabled?"tag-disabled":""," ").concat(ve===e.phoneType?"tag-active":""),_nk:"".concat(ie,"64"),children:e.phoneType},e.phoneType)}))}),(0,R.jsx)(p.Z.Item,{name:"remarkName",label:"备注名",_nk:"".concat(ie,"47"),children:(0,R.jsx)(b.Z,{placeholder:"请输入",style:{width:275},_nk:"".concat(ie,"52")})}),(0,R.jsx)(p.Z.Item,{name:"description",label:"描述",_nk:"".concat(ie,"48"),children:(0,R.jsx)(b.Z.TextArea,{placeholder:"请输入",style:{height:72,width:275,resize:"none"},_nk:"".concat(ie,"49")})}),(0,R.jsx)(p.Z.Item,{name:"taskId",label:"加粉任务",rules:[{required:!0,message:"请选择加粉任务！"}],_nk:"".concat(ie,"4a"),children:(0,R.jsx)(N.Z,{style:{width:275},placeholder:"请选择",onChange:function(){var e=m()(u()().mark((function e(n){var t,a,i;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=F.find((function(e){return e.id===n})))){e.next=8;break}return W(t),c.setFieldValue("verifyMsg",t.verifyMessage||""),e.next=6,(0,ee.J_)({taskId:n});case 6:i=e.sent,se((null==i||null===(a=i.data)||void 0===a?void 0:a.map((function(e){return o()(o()({},e),{},{key:e.type+e.content})})))||[]);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),options:F.map((function(e){return{label:e.taskName,value:e.id}})),_nk:"".concat(ie,"b1")})}),(0,R.jsx)(p.Z.Item,{name:"verifyMsg",label:"验证消息",_nk:"".concat(ie,"4b"),children:(0,R.jsx)(b.Z,{placeholder:"请输入",style:{width:275},_nk:"".concat(ie,"53")})}),(0,R.jsxs)(p.Z.Item,{name:"helloMsg",valuePropName:"fileList",getValueFromEvent:function(e){return Array.isArray(e)?e:null==e?void 0:e.fileList},noStyle:!0,_nk:"".concat(ie,"4c"),children:[(0,R.jsx)("div",{className:"upload-label",_nk:"".concat(ie,"65"),children:"欢迎语：（仅支持修改文本及添加图片）"}),(0,R.jsxs)("div",{className:"hello-msg-card",_nk:"".concat(ie,"66"),children:[(0,R.jsx)(H,{fileList:Fe,setFileList:Te,setHelloMsg:se,helloMsg:oe||[],_nk:"".concat(ie,"c1")}),(0,R.jsx)(k.Z,{type:"primary",className:"send-msg-btn",htmlType:"submit",_nk:"".concat(ie,"15"),children:"发送申请"})]})]})]}),(0,R.jsxs)("div",{className:"add-fans-form-title records-title",_nk:"".concat(ie,"67"),children:[(0,R.jsxs)("div",{_nk:"".concat(ie,"68"),children:[" 历史记录  ",(0,R.jsx)("span",{className:"title-desc",_nk:"".concat(ie,"33"),children:"(仅坐席)"})," "]}),(0,R.jsxs)(I.Z,{size:12,align:"end",_nk:"".concat(ie,"a2"),children:[(0,R.jsx)("img",{src:te,alt:"",style:{width:20,height:20},onClick:function(){return an(re.fullHistory)},_nk:"".concat(ie,"d1")}),(0,R.jsx)("img",{src:ae,alt:"",style:{width:20,height:20},onClick:Ne,_nk:"".concat(ie,"d2")}),(0,R.jsxs)("div",{className:"all-record",onClick:function(){return an(re.allHistory)},_nk:"".concat(ie,"69"),children:["全部历史 ",(0,R.jsx)("img",{src:ne,alt:"",style:{width:20,height:20},_nk:"".concat(ie,"d3")})]})]})]}),(0,R.jsx)(M.Z,{columns:en,dataSource:(null==ye?void 0:ye.list)||[],loading:Ce,total:(null==ye?void 0:ye.count)||0,getData:qe,isFirstRun:!1,isShowPagination:!1,paginationMap:{current:"page"},rowKey:"id",scroll:{x:"100%",y:240},_nk:"".concat(ie,"e1")})]}),(0,R.jsx)(C.Z,{open:be!==re.null,getContainer:!1,width:1290,footer:null,title:(0,R.jsxs)("div",{_nk:"".concat(ie,"6a"),children:["添加企微加好友-历史记录 ",re.allHistory===be?"":(0,R.jsx)("span",{className:"title-desc",_nk:"".concat(ie,"34"),children:"(仅坐席)"})]}),onCancel:function(){je(re.null)},maskClosable:!0,destroyOnClose:!0,className:"modal-table-detail",_nk:"".concat(ie,"f1"),children:(0,R.jsx)("div",{style:{paddingBottom:24},_nk:"".concat(ie,"6b"),children:(0,R.jsx)(M.Z,o()(o()({ref:s},tn),{},{paginationMap:{current:"page"},scroll:{x:"100%",y:380},_nk:"".concat(ie,"e2")}))})})]})}},62267:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAmlJREFUWEftlz1oFEEUx/9vZncPDB7iR9KoWFkIiuTSa6FiBKughYd4KGilYKEg5uKaRAQtBDsFJSJnoVgJKmqhfS6IgoWVqM3FFHIS4fZjnqx4IdxlmVnD7l5x2867eb/7vX3zZgk9/lCP86EPuNoK9Q2mZrA0EZxAqMpMcLRJCDNzU86MNu4/AmJLXLrsvQKw32RPIr46O11wTWKTxsQCDo97b4mxZ9mGCwy8J7DXlUTIWn3KepQ0uUl8AkBqkKCLXlE+7dzYLsKrnyHfJGHSGBPABYBCgIcAtEiK8m8hn31yqdtk0uwG8VpABt4IIR6yUncBFAB8IynOz05aXSYN8iUO0QIC/Nxf5xx1foUHOVS3AGzJ0qQxYLAIf40KD3OoalmaNAb8cIEWo/qMTARjWZpMDLjDZSdLk4kB2295h8kmbHtn3aWvibtA84N4wKpXEczbmORnbJZPOs+5ZSbvE9G9TYPWpRfnqJUZoGmikstbB9ejkQZcxNC/bplWIi4uNYOjZ7kwvwFDq22cVABHb3Phx3xwnZlPkRQnV5rdpTts43t4hDjcroi+xN0nUwGMGge+/xFAMW5277rJA/ZP7zFAh5jwbm7a2btSmVMBNJk4uQPqJk7ugDETZ+k+aQ3AzrXEbcA4k95a+bInAGNNCnFaKXWcgH25NElnR3abpAbAEsDGXACjc85vdn9TO81wjBXf+PeN8/d/5ANYDY5BheVOkwxyCNgdmWuv5QI4Mt5ymemK4Sx+Xb/mHMj0oB6uehUwKjpAYniQolaftB5kCqgDM11PbdSZAuji+oA6Q7r1vkGdId36H77/ZzgZPKeIAAAAAElFTkSuQmCC"},8518:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAAXNSR0IArs4c6QAAACFQTFRFAAAAtrbbvMLNv8TNvcbPvcbKvsTNvcTNvsTNvsPMvsPNdvbCQgAAAAt0Uk5TAAcuODo6Vs7R4+ZXnWmTAAAAaUlEQVR42mMYUBDEgApYViYyQAETmPz3UZUBCpjB5H9pI94LyCoY1oGVIFQwfAUrgahAKEGoQCiBqIAqEWJACCAAQiCI/x2KgJjR3fkIAbCC2wgtCAUQAYQChAATVAFCAKoAAZwYBhgAAOyaGWO+1M5MAAAAAElFTkSuQmCC"},29046:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABbBJREFUWEftmFlsVGUUx3/nu/dOC7KIG0ZcAK2iElymBSMxEhO16osGqWI0Gkw0gMQXDWJbGJhO1eiDEQW3uCQkalE0MQbRGFFxgem4QmoAQY0YMQpYQaZz7/2OuaVDsKXT3mkf+uD3Npnz/c/vnm875whDfMgQ5+N/wIGuUNkRnJFSN5/n1CARVInV8YhMRHV0CMYg7YJuA9lprbtl4oX8vrpOwnJg4wOqSs3iwnlhKAuAi0WoAkYBphuAAvtAtgjytSvOii+apC0uZA/Amkb/cotWGZVf7GnuB7m7xY9EZ81SZ8ekwnliTVrRq4HKLmcHgN8UdgvkI1CBEQpjgHFH2qmwRkQfHekk2tanJOgPbA/AZEPhJZTbBX23YlSi7tOF8nckVL04uE1DXQh6/iFh+RPkbeOwxgZ2V0K83aEl74PxnPyI0DpjxJiJir0BlVrQ4w5Nk+9EZWlrxn1jUADzezDqBvMFbYrkUflFjH3FcxMPf56SPf1xclGznugcCBer6vWIngqEiCx0Xfe5jSlpL6XRZwTz7cF80EVd+2yHMTJn7z73i+3LpaM/cEWbGSmtPGCD6TbkZdBo6dsFlrRmEo+XBQi8r45ZLaF9NhJQdK1IYkGuSX6IA9bdduqi/NmhkSdAon0ciJiZE6Y47/R2ynuNIPATEB2Qs4AfXbFXbWyq3DYQuOLc5KKOSRg+BDkZyGH11txDFd8fTbsUYNH+Dxwzj+HOe4cFxvBP8XSXC1zT4NdatS8egjQrchl3frmAfyF8i+rBooAxpjmb9j4qFy6al0zpcPX95QJzgL8s3gVfZSRatf+MnhGsLzwFzCvl3KA3ZzMVrw0EsAvydHx/CzDCiKSzaXcJItEFf3j0AKxu9Ker1VuA4b0BCKxszSQ2DRQwml9d769VtNag6yrCxOwND8vekoCD4TSORnVD4U5VngbZbaAum/E+G1KAFzf6l4m1LSAniJjZrU3u60MKsPrBjskq0gKca5D7sxnvsT4BVVWk22aNs2xxbKc26ITABq+JUI0hnUt7S0oCJhs7lmJlsUCrEa9uU5PsjONwsG2Pcs3494E+CrSJp3WtqYrNg+00jl7Pa6Y+mKnYV0D/VGPqvkx7n8QRHGzbnglrvX+phRbQsRjm5tKJ5wfbaRy9HoAXpvRYzy+8apGrDbIum/Fq4wj2ZntJY2Gab5lbQuugGFnVmvY+LX2Ko5qjsbDUqjQC+y3e5KO9kXGha+o7brLIqyWfUGFltinxn2f2qEVTMqXRG/kNcKwIL6rr3ZNLyT9xoY6076x1rI0S384hyDCFC4DRh+2El3NNiTv6vAcjg+qG4ElVG2XTv4njzGld5q4dCGDyLvXcUxhW1AiD8CpVuxI4oUzA/DmoWaVQDezG6ozeksq44NMa8lWBmveBM4AoCfaA8cSJ4KwWdX7cHF5rQ7sGcKMSwLH2nk0PVW6NC3SkfbIhf6aqLBfkms5Kwpi7sLYOuDIWYFE02VC4F2VZZ9Gk8qsx3H6M625Yn5KoBu73iIqm/UFwiaq+AEyIiiZEmitHuis62gstitSWBTgtpaPCwI9Souh1cUB2icpbhYSz7NuU/N4fwqnNenx4sPAA1szuqugUkXrXdZ9yh6EDAiwCTK0PbgjRFOiUrnO4B9F1qHnTNXaHdexej4r9HWBdqPRDf6xRM06xM0GuQ/X4rnmbjcoj2WZ3VfR7+iM6clAAo9bHzqrCuSJyn4UbgWO64KOl/hXYq8J+UawIlaqMBaKqrZiZ51F5V7CNE7Yl2lavPtRMSj6jnu4KrjCq48TK9mzG+7hf10yppUumdBJhMBflIrSzFRL1YbrfqbZzn8FWwXzpeM7yjUto615z9LVF4ne3ioopNTVwEkEw2YqOV6TKUR1p1agY3YfqDoz8HIbu1tEeu/rbLOoOXD5gX58+SP//DzjQQA75CP4LADlxR2X9ItcAAAAASUVORK5CYII="},3282:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAANlJREFUOE+t0zFKg0EQhuEnaisES8E6oHiAGPAAtgEv4PnSegFRDyARrYWUIlhHwwdZGeJfJP5OtzPfvDuzMzvw244wwgkO1+FPvOEV7zVlUA57GOMU1V/133jGI74SaMIkX+G4o6Iu1wK3gTTABGdbJjfZHPcBpOdpqSaBg/U7VOYLluWitDMLIH2fF2WEd7go4kAfcLkBfgrgGsON8ltCILEkV2CTfwRwg/2O/hskoa7k+Jf/AujdQu9H3HaMWeOMMZsa+xljDr0WKYDeq9wgf/5MdQ12+s4rlYk+GaT6PmIAAAAASUVORK5CYII="}}]);